function galleryExistsOnPage(){var $gall=$("#gallery-container, #pulling-gallery");return 0<$gall.length&&0<$gall.parents("#splash-container").length}function socialInboxPageDocumentReady(){}window.splash.ohmyhubGeo=function($){var geolocatingMe=!1,ip="",country_code="",country_name="",region_code="",city="",zipcode="",latitude="",longitude="",timezone="",status="",errorMsg="",successCallbacks=[],failCallbacks=[],_callbacks=function(result){if(void 0===result&&(result={ip:ip,country_code:country_code,country_name:country_name,region_code:region_code,city:city,zipcode:zipcode,address:"",latitude:latitude,longitude:longitude,status:status,timezone:timezone}),"success"==result.status&&successCallbacks.length){for(;0<successCallbacks.length;){successCallbacks.shift()(result)}failCallbacks=[]}else if(0<failCallbacks.length){for(;0<failCallbacks.length;){failCallbacks.shift()(errorMsg)}successCallbacks=[]}};return{geolocateMe:function(){return geolocatingMe||(""==ip?function(){geolocatingMe=!0;var apiKey=window.splash.server.constants.mashapeKey?window.splash.server.constants.mashapeKey:"";$.ajax({url:"https://telize-v1.p.mashape.com/geoip?mashape-key="+apiKey,timeout:5e3}).success(function(response){void 0!==response.latitude&&void 0!==response.longitude?(ip=response.ip,country_code=response.country_code,country_name=response.country,response.region_name,region_code=response.region_code,city=response.city,zipcode=response.postal_code,latitude=response.latitude,longitude=response.longitude,timezone=response.timezone,status="success"):errorMsg="Splash geolocateMe() response: "+response,geolocatingMe=!1,_callbacks()}).fail(function(xhr,options,error){geolocatingMe=!1,errorMsg="Splash geolocateMe() response: "+xhr.status+" - "+error,_callbacks()})}():setTimeout(_callbacks,0)),this},geocode:function(term){return $.ajax({url:"https://maps.googleapis.com/maps/api/geocode/json?address="+term,type:"POST",dataType:"json"}).success(function(response){var result={};if(void 0!==response.status&&"ZERO_RESULTS"==response.status)return errorMsg="Splash geocode() error: no results",void _callbacks();if(void 0===response.results||void 0===response.results[0]||void 0===response.results[0].geometry||void 0===response.results[0].geometry.location)return errorMsg="Splash geocode() error: incomplete response",void _callbacks();var place=response.results[0];if(result.ip="",result.latitude=place.geometry.location.lat,result.longitude=place.geometry.location.lng,place.address_components){for(var i in place.address_components)"postal_code"==place.address_components[i].types[0]?result.zipcode=place.address_components[i].long_name:"street_number"==place.address_components[i].types[0]?result.street_number=place.address_components[i].long_name:"route"==place.address_components[i].types[0]?result.route=place.address_components[i].long_name:"locality"==place.address_components[i].types[0]?result.city=place.address_components[i].long_name:"administrative_area_level_1"==place.address_components[i].types[0]?(result.region_name=place.address_components[i].long_name,result.region_code=place.address_components[i].short_name):"country"==place.address_components[i].types[0]&&(result.country_name=place.address_components[i].long_name,result.country_code=place.address_components[i].short_name);result.address=result.street_number+" "+result.street_name}place.formatted_address&&(result.formatted_address=place.formatted_address),result.status="success",_callbacks(result)}).fail(function(xhr,options,error){errorMsg="Splash geocode() response: "+xhr.status+" - "+error,_callbacks()}),this},success:function(newSuccessCallback){return"function"==typeof newSuccessCallback&&successCallbacks.push(newSuccessCallback),this},fail:function(newFailCallback){return"function"==typeof newFailCallback&&failCallbacks.push(newFailCallback),this}}}(jQuery),window.splash.ohmyhub=function($){var _h={},_setDataStructures=function(hub_sfid){_h[hub_sfid]=_h[hub_sfid]?_h[hub_sfid]:{},_h[hub_sfid].events=_h[hub_sfid].events?_h[hub_sfid].events:{},_h[hub_sfid].sorting=_h[hub_sfid].sorting?_h[hub_sfid].sorting:[],_h[hub_sfid].opts=_h[hub_sfid].opts?_h[hub_sfid].opts:{},_h[hub_sfid].displayMode=_h[hub_sfid].displayMode?_h[hub_sfid].displayMode:"",_h[hub_sfid].masterCard=_h[hub_sfid].masterCard?_h[hub_sfid].masterCard:$()},_generateSortingArray=function(hub_sfid,sort_field,sortParams){sortParams=sortParams||{},"distance"==sort_field&&(sortParams.latitude=sortParams.latitude?sortParams.latitude:0,sortParams.longitude=sortParams.longitude?sortParams.longitude:0);var sorting_tmp={};Object.keys(_h[hub_sfid].events).length;for(var hub_item_id in _h[hub_sfid].events){var sort_index;if("distance"==sort_field&&_updateCoords(hub_sfid,hub_item_id,_h[hub_sfid].events[hub_item_id],sortParams.latitude,sortParams.longitude),-1!==sort_field.indexOf(".")){var sort_fields=sort_field.split(".");sort_index=_h[hub_sfid].events[hub_item_id][sort_fields[0]][sort_fields[1]]}else sort_index=_h[hub_sfid].events[hub_item_id][sort_field];"string"==typeof sort_index&&(sort_index=sort_index.trim()),""==sort_index&&(sort_index=1e14+Math.floor(1e3*Math.random())),"distance"==sort_field&&(sort_index=Math.floor(10*sort_index)),"sort_order"==sort_field&&(void 0===sort_index&&(sort_index=999),sort_index=("0000"+sort_index).slice(-4));for(var i=0,new_sort_index=sort_index;void 0!==sorting_tmp[new_sort_index];)new_sort_index="number"==typeof sort_index?sort_index+i:sort_index+"-"+i,i++;sorting_tmp[sort_index=""==new_sort_index?sort_index:new_sort_index]=hub_item_id}_h[hub_sfid].sorting=[],Object.keys(sorting_tmp).sort(function(A,B){if(isNaN(A)){var a=A.toLowerCase().replace(/\s/g,""),b=B.toLowerCase().replace(/\s/g,"");return a<b?-1:a==b?0:1}return parseInt(A)-parseInt(B)}).forEach(function(k){_h[hub_sfid].sorting.push(sorting_tmp[k])}),(sortParams.sort_order&&"reverse"==sortParams.sort_order||"rsvp_count"==sort_field)&&(_h[hub_sfid].sorting=_h[hub_sfid].sorting.reverse())},_afterSearchEventHub=function(matchingIds,hub_sfid,callback){"function"==typeof callback&&setTimeout(function(){callback(matchingIds)},0),"function"==typeof window.customAfterHubSearch&&window.customAfterHubSearch(matchingIds)},_updateCoords=function(hub_sfid,hub_item_id,hub_item_info,my_lat,my_lng){if(void 0!==hub_item_info&&hub_item_info.venue.lat&&hub_item_info.venue.lng){var distance=window.getDistanceFromLatLon(my_lat,my_lng,hub_item_info.venue.lat,hub_item_info.venue.lng);isNaN(distance)?_h[hub_sfid].events[hub_item_id].distance="":_h[hub_sfid].events[hub_item_id].distance=distance}else _h[hub_sfid].events[hub_item_id].distance=""},_updateMatchHeightProperty=function(hub_sfid,$masterCard){if($masterCard.hasClass("ohmyhub-match-height")){var matchHeightsMode=$masterCard.attr("match-height");$("#sfid-"+hub_sfid).closest(".layoutGrp").addClass("match-height").attr("match-height",matchHeightsMode),_h[hub_sfid].matchHeight=matchHeightsMode}else _h[hub_sfid].matchHeight="",$("#sfid-"+hub_sfid).closest(".layoutGrp").removeClass("match-height").attr("match-height","")},_hideCard=function($hub_item){$hub_item.addClass("is-hidden")},_showCard=function($hub_item){$hub_item.removeClass("is-hidden")};return{get:function(hub_sfid,object,hub_item_id,property){return null==hub_sfid?_h:null==object?void 0!==_h[hub_sfid]?_h[hub_sfid]:null:null==hub_item_id?void 0!==_h[hub_sfid][object]?_h[hub_sfid][object]:null:null==property?void 0!==_h[hub_sfid][object][hub_item_id]?_h[hub_sfid][object][hub_item_id]:null:void 0!==_h[hub_sfid][object][hub_item_id][property]?_h[hub_sfid][object][hub_item_id][property]:null},setEvents:function(sfid,eventsData){_setDataStructures(sfid),_h[sfid].events=eventsData},setEvent:function(hub_sfid,hub_item_id,eventData){_h[hub_sfid].events[hub_item_id]=eventData},setHubItemProperties:function(hub_sfid,hub_item_id,properties){for(var name in properties)({}).hasOwnProperty.call(properties,name)&&(_h[hub_sfid].events[hub_item_id][name]=properties[name])},setOptions:function(sfid,hub_opts){void 0!==_h[sfid]?void 0===_h[sfid].opts?_h[sfid].opts=hub_opts:$.extend(_h[sfid].opts,hub_opts):_h[sfid]={opts:hub_opts}},setOption:function(sfid,option_key,option_value){void 0===_h[sfid]?_h[sfid]={opts:{}}:void 0===_h[sfid].opts&&(_h[sfid].opts={}),_h[sfid].opts[option_key]=option_value},getOption:function(sfid,option_key){if(void 0!==_h[sfid]&&void 0!==_h[sfid].opts)return _h[sfid].opts[option_key]},getOptions:function(sfid){return _h[sfid]?_h[sfid].opts:{}},updateHubItemId:function(hub_sfid,old_id,new_id){if(void 0!==_h[hub_sfid]&&void 0!==_h[hub_sfid].events[old_id]){for(var i in _h[hub_sfid].events[new_id]=_h[hub_sfid].events[old_id],delete _h[hub_sfid].events[old_id],_h[hub_sfid].sorting)if(_h[hub_sfid].sorting[i]==old_id){_h[hub_sfid].sorting[i]=new_id;break}$("#shid-"+hub_sfid+"-"+old_id).attr("id","shid-"+hub_sfid+"-"+new_id)}},deleteHubItem:function(hub_sfid,hub_item_id){if(void 0!==_h[hub_sfid]&&void 0!==_h[hub_sfid].events[hub_item_id]){for(var i in delete _h[hub_sfid].events[hub_item_id],_h[hub_sfid].sorting)if(_h[hub_sfid].sorting[i]==hub_item_id){delete _h[hub_sfid].sorting[i];break}0==_h[hub_sfid].sorting.length&&$("#sfid-"+hub_sfid).addClass("no-events")}},initAll:function(){$.each($("#splash-container .sf.ohmyhub"),function(){window.splash.ohmyhub.init($(this))}),window.splash.ohmyhub.bind()},init:function($hub,initOptions){var hub_sfid,hubId;if("number"==typeof $hub||"string"==typeof $hub)hub_sfid=""+$hub.replace("sfid-",""),hubId=$("#sfid-"+hub_sfid).attr("hubId");else{if(!(0<$hub.length))return void console.warn("Trying to init a hub, but no valid parameter passed");hub_sfid=$hub.attr("id").replace("sfid-",""),hubId=$hub.attr("hubId")}initOptions=initOptions||{};var sortParams={},get_params=window.getQueryParams(window.location.search);if(get_params){for(var key in get_params)({}).hasOwnProperty.call(get_params,key)&&(initOptions[key]=get_params[key],sortParams[key]=get_params[key]);initOptions.event_id=window.splash.server.constants.event_id}_setDataStructures(hub_sfid),function(hub_sfid){var needToGeolocate=!1;"distance"==_h[hub_sfid].opts.sort_field?needToGeolocate=!0:window.splash.ohmyhub.getMasterCard(hub_sfid).find(".card-distance").length&&(needToGeolocate=!0);needToGeolocate&&window.splash.ohmyhubGeo.geolocateMe()}(hub_sfid),window.splash.ohmyhub.getHubItems(hub_sfid,hubId,initOptions,function(hub_sfid){var sortField;_h[hub_sfid].opts.sort_order&&"reverse"==_h[hub_sfid].opts.sort_order&&(sortParams.sort_order="reverse"),sortField=sortParams.sort_field?sortParams.sort_field:_h[hub_sfid].opts.sort_field,window.splash.ohmyhub.sortHubData(hub_sfid,sortField,sortParams,function(hub_sfid){if(get_params.search_field){var $searchBarAssociatedSf=window.splash.ohmyhub.getSearchBarForHub(hubId).find(".sf:first");$searchBarAssociatedSf.length&&$searchBarAssociatedSf.addClass("is-searching").find(".search-bar-input").val(get_params.search_field),initOptions.needs_render=!0,window.splash.ohmyhub.searchHub(hub_sfid,get_params.search_field,initOptions,function(){$searchBarAssociatedSf.length&&$searchBarAssociatedSf.removeClass("is-searching")})}else window.splash.ohmyhub.renderHub(hub_sfid)})})},getHubItems:function(hub_sfid,hubId,getItemsOptions,callback){if(null!=getItemsOptions&&void 0!==getItemsOptions.useCurrentData&&getItemsOptions.useCurrentData)"function"==typeof callback&&callback(hub_sfid);else{var hubIdUsed=hubId;_h[hub_sfid].opts.linked_hub_id&&(hubIdUsed=_h[hub_sfid].opts.linked_hub_id);var parameters={action:"ohmyhub",method:"getItems",format:"json"};parameters.splash_hub_id=hubIdUsed,parameters.splash_feed_id=hub_sfid,parameters.options=getItemsOptions,window.splash.server.constants.finetune&&(parameters.formatParams={finetune:!0}),$.ajax({type:"GET",url:window.location.pathname,data:parameters}).done(function(response,status){void 0===response.result?console.warn("Tried to get elements for a hub, but the response result was empty"):(_h[hub_sfid].events=window._.object(window._.map(response.result,function(thisEventInfo){return[thisEventInfo.hub_item_id,thisEventInfo]})),window._.each(_h[hub_sfid].events,function(thisEventData){thisEventData.created_timestamp=isNaN(parseInt(thisEventData.created_timestamp))?thisEventData.created_timestamp:1e3*parseInt(thisEventData.created_timestamp),thisEventData.date&&(thisEventData.date.start_timestamp=isNaN(parseInt(thisEventData.date.start_timestamp))?thisEventData.date.start_timestamp:1e3*parseInt(thisEventData.date.start_timestamp),thisEventData.date.end_timestamp=isNaN(parseInt(thisEventData.date.end_timestamp))?thisEventData.date.end_timestamp:1e3*parseInt(thisEventData.date.end_timestamp))}),"function"==typeof callback&&callback(hub_sfid))}).fail(function(xhr,options,error){console.warn("Bad response trying to get elements for a hub")})}},renderHub:function(hub_sfid,renderParams){var $sf;if(null==hub_sfid){if(0==($sf=$("#splash-container").find(".sf.ohmyhub:first")).length)return void console.warn("Tried to render a hub, but no hub found. hub_sfid was null, and no hub found on page");hub_sfid=$sf.attr("id").replace("sfid-",""),console.warn("Warning, render hub is rendering the first hub on page, but that should not happen")}else if(0==($sf=$("#sfid-"+hub_sfid)).length)return void console.warn("Tried to render a hub, but no hub found. hub_sfid was set, but no hub for it was found");renderParams=renderParams||{};var hub_items_main=[],hub_items_featured=[],cardLimit=function(hub_sfid){return _h[hub_sfid]&&_h[hub_sfid].opts&&_h[hub_sfid].opts.render_cards_limit?_h[hub_sfid].opts.render_cards_limit:75}(hub_sfid),cardCount=0,$layout=window.splash.ohmyhub.getMasterCardTemplate($sf);if(0==$layout.length)return window.splash.ohmyhub.setHubStatus($sf,"master-card-error"),void console.warn("Couldn't find master card when rendering a hub");for(var hub_item_sorting_index in _h[hub_sfid].sorting)if({}.hasOwnProperty.call(_h[hub_sfid].sorting,hub_item_sorting_index)){var hub_item_id=_h[hub_sfid].sorting[hub_item_sorting_index];if(cardLimit<=cardCount){if(!renderParams.cache_items)break;_h[hub_sfid].events[hub_item_id].is_rendered&&_hideCard($("#shid-"+hub_sfid+"-"+hub_item_id))}else{var $hub_item;if(!renderParams.maxDistance||!(""==_h[hub_sfid].events[hub_item_id].distance||_h[hub_sfid].events[hub_item_id].distance>renderParams.maxDistance))if(renderParams.matchingIds&&-1===renderParams.matchingIds.indexOf(hub_item_id))_h[hub_sfid].events[hub_item_id].is_rendered&&_hideCard($("#shid-"+hub_sfid+"-"+hub_item_id));else renderParams.cache_items&&_h[hub_sfid].events[hub_item_id].is_rendered?($hub_item=$("#shid-"+hub_sfid+"-"+hub_item_id),$hub_item=window.splash.ohmyhub.updateEventCard($hub_item,_h[hub_sfid].events[hub_item_id]),_showCard($hub_item)):$hub_item=window.splash.ohmyhub.populateHubCardTemplate($layout.clone(!0).off(),_h[hub_sfid].events[hub_item_id],hub_item_id,hub_sfid),_h[hub_sfid].opts.filter_featured&&"always_first"==_h[hub_sfid].opts.filter_featured&&_h[hub_sfid].events[hub_item_id].is_featured?hub_items_featured.push($hub_item):hub_items_main.push($hub_item),_h[hub_sfid].events[hub_item_id].is_rendered=!0,cardCount++}}if(renderParams.cache_items||$sf.find(">.children > .ohmyhub-item").remove(),0==_h[hub_sfid].sorting.length)window.splash.ohmyhub.setHubStatus($sf,"empty");else if(0==cardCount)window.splash.ohmyhub.setHubStatus($sf,"no-results");else{window.splash.ohmyhub.setHubStatus($sf,"results"),$sf.children(".children").append(hub_items_featured).append(hub_items_main);var component=window.splash.cmsComponentManager.getComponentInstance($sf.closest(".layoutGrp"));component&&"function"==typeof component.addOnHoverTools&&"function"==typeof component.removeOnHoverTools&&component.removeOnHoverTools().addOnHoverTools(),$layout.hasClass("linkable-cards")&&window.splash.navElement.bindLinkableContainers()}!function($hub_sf,hub_sfid,renderParams){window.splash.ohmyhub.getMasterCard(hub_sfid).find(".card-distance").length&&window.splash.ohmyhubGeo.geolocateMe().success(function(response){for(var hub_item_id in _h[hub_sfid].events)({}).hasOwnProperty.call(_h[hub_sfid].events,hub_item_id)&&(_updateCoords(hub_sfid,hub_item_id,_h[hub_sfid].events[hub_item_id],response.latitude,response.longitude),window.splash.ohmyhub.updateEventCard($("#shid-"+hub_sfid+"-"+hub_item_id),_h[hub_sfid].events[hub_item_id]))}),"function"==typeof window.customAfterHubRender&&window.customAfterHubRender($hub_sf.attr("id"),renderParams),$hub_sf.find(".ohmyhub-item").css("display",_h[hub_sfid].displayMode),_h[hub_sfid].matchHeight&&window.matchHeight($hub_sf.closest(".layoutGrp"))}($sf,hub_sfid,renderParams)},getMasterCard:function(hub_sfid,force){if("object"==typeof hub_sfid)hub_sfid=hub_sfid.attr("id").replace("sfid-","");else if("string"==typeof hub_sfid)hub_sfid=hub_sfid.replace("sfid-","");else if(void 0===hub_sfid)return $();var $masterCard,activeCard,hubId=_h[hub_sfid].opts.splash_hub_id;return!force&&void 0!==_h[hub_sfid].masterCard&&_h[hub_sfid].masterCard.length?($masterCard=_h[hub_sfid].masterCard,_updateMatchHeightProperty(hub_sfid,$masterCard),$masterCard):(activeCard=void 0!==_h[hub_sfid].opts.active_card_id?_h[hub_sfid].opts.active_card_id:1,0==($masterCard=$("#main-canvas").find(".event-hub-master-card[hubId="+hubId+"][cardLayoutId="+activeCard+"]").last()).length&&($masterCard=$("#main-canvas").find(".event-hub-master-card[hubId="+hubId+"]").last()),_updateMatchHeightProperty(hub_sfid,$masterCard),_h[hub_sfid].masterCard=$masterCard)},getMasterCardTemplate:function($hub_sf){var sfid=$hub_sf.attr("id").replace("sfid-",""),$masterCard=window.splash.ohmyhub.getMasterCard(sfid);if(void 0!==$masterCard.attr("style")){var matches=$masterCard.attr("style").match(/display:[\s]?([a-z-]+)/);matches&&void 0!==matches[1]&&(_h[sfid].displayMode=void 0!==matches[0]?matches[1]:"")}else _h[sfid].displayMode="";var $layout=$masterCard.clone(!0).off();return $layout.removeAttr("cardLayoutId block_type hubId id").removeClass("event-hub-master-card").addClass("ohmyhub-item list-item"),$layout.find(".layoutGrp").addBack(".layoutGrp").each(function(){var $this=$(this);$this.attr("data-master-gid",$this.attr("id"))}),$layout.removeClass("layoutGrp").find(".layoutGrp").addClass("cardLayoutGrp").removeAttr("id").removeClass("layoutGrp").attr("data-lock","full").end().find("a.nav-jump").removeAttr("id").end().find(".element").removeAttr("id").end().find(".sf").removeAttr("id").end().find(".not-edited").removeClass("not-edited").end().find("style").remove().end().find(".not-edited").removeClass("not-edited").end().find(".edit-tools").remove().end().find(".add-placeholder").remove(),$layout},populateHubCardTemplate:function($layout,info,hub_item_id,hub_sfid){info.date.tbd,""!=info.date.start&&new Date(info.date.start),""!=info.end&&new Date(info.date.end),new Date;$layout.attr("event-id",info.event_id).attr("id","shid-"+hub_sfid+"-"+hub_item_id);var event_domain=info.domain;void 0!==window.splash.server._user&&window.splash.server._user.id&&(event_domain+="?preview");var $title=$layout.find(".card-title"),$description=$layout.find(".card-description"),$image=$layout.find(".card-image"),$bgImage=$layout.filter(".card-bg-image").add($layout.find(".card-bg-image")),$buttonLinks=($layout.find(".card-event-date"),$layout.find(".card-event-venue"),$layout.find(".button-link")),$tagList=$layout.find(".card-tag-list");if($title.length&&$title.find(".title, .body").text(info.title),$description.length&&$description.find(".title, .body").text(info.description),$image.length&&""!=info.image_url&&$image.find("img").attr("src",info.image_url),$bgImage.length&&""!=info.image_url&&$bgImage.css("background-image",'url("'+info.image_url+'")'),$buttonLinks.length&&$buttonLinks.each(function(){var $a=$(this);"#go-to-event"==$a.attr("href")?$layout.hasClass("linkable-cards")&&info.domain?$a.attr("href","#"):$a.attr("href",event_domain):"#map-it"==$a.attr("href")&&$a.attr("href",window.splash.ohmyhub.generateExternalMapsLinkFromVenue(info.venue))}),""!=info.rsvp_status&&$layout.addClass("card-rsvp-"+info.rsvp_status),""!=info.event_status&&$layout.addClass("card-event-"+info.event_status),"1"==info.is_featured&&$layout.addClass("card-is-featured"),"1"==info.is_external&&$layout.addClass("card-is-external"),info.tags&&info.tags.length){var tagClasses="",tagListBody="";for(var i in info.tags)if({}.hasOwnProperty.call(info.tags,i)){var tag=info.tags[i].replace(/\s/g,"-");tag&&(tagClasses+="card-tag-"+tag+" ",tagListBody+='<div class="card-tag-list-item">'+tag+"</div>")}$tagList.length&&$tagList.find(".title, .body").html(tagListBody),$layout.addClass(tagClasses.trim().toLowerCase().replace(/[^\sa-z0-9-]+/g,""))}return $layout.hasClass("linkable-cards")&&info.domain&&$layout.data("href",event_domain).data("target",_h[hub_sfid].opts.linkable_cards).addClass("linkable-ele").attr("linked","true"),$layout=window.splash.ohmyhub.updateEventCard($layout,info)},updateEventCard:function($layout,info){var $distanceTexts=$layout.find(".card-distance");return $distanceTexts.length&&""!=info.distance&&$distanceTexts.text(Math.round(10*info.distance)/10+" Miles"),$layout},sortHub:function(hub_sfid,sort_field,sortParams,callback){hub_sfid=hub_sfid.replace("sfid-",""),window.splash.ohmyhub.sortHubData(hub_sfid,sort_field,sortParams,function(hub_sfid){window.splash.ohmyhub.renderHub(hub_sfid),"function"==typeof callback&&callback(hub_sfid)})},sortHubData:function(hub_sfid,sort_field,sortParams,callback){if(sortParams=sortParams||{},"distance"!=(sort_field=sort_field||"sort_order"))_generateSortingArray(hub_sfid,sort_field,sortParams),"function"==typeof callback&&callback(hub_sfid);else{void 0!==sortParams.location&&""!=sortParams.location?window.splash.ohmyhubGeo.geocode(sortParams.location).success(function(response){void 0!==response&&void 0!==response.latitude&&void 0!==response.longitude?(sortParams.latitude=response.latitude,sortParams.longitude=response.longitude,_generateSortingArray(hub_sfid,sort_field,sortParams),"function"==typeof callback&&callback(hub_sfid)):window.splash.ohmyhub.sortHubData(hub_sfid,"date.start_timestamp",sortParams,callback)}).fail(function(response){window.splash.ohmyhub.sortHubData(hub_sfid,"date.start_timestamp",sortParams,callback)}):window.splash.ohmyhubGeo.geolocateMe().success(function(response){void 0!==response&&void 0!==response.latitude&&void 0!==response.longitude?(sortParams.latitude=response.latitude,sortParams.longitude=response.longitude,_generateSortingArray(hub_sfid,sort_field,sortParams),"function"==typeof callback&&callback(hub_sfid)):window.splash.ohmyhub.sortHubData(hub_sfid,"date.start_timestamp",sortParams,callback)}).fail(function(response){window.splash.ohmyhub.sortHubData(hub_sfid,"date.start_timestamp",sortParams,callback)})}},searchHub:function(hub_sfid,term,searchParams,callback){term=term||"",searchParams=searchParams||{},hub_sfid=hub_sfid.replace("sfid-","");var $sf=$("#sfid-"+hub_sfid);window.splash.ohmyhub.setHubStatus($sf,"loading"),searchParams.searchMode&&"sort-by-distance"==searchParams.searchMode?window.splash.ohmyhub.sortHubData(hub_sfid,"distance",{location:term},function(hub_sfid){window.splash.ohmyhub.renderHub(hub_sfid,searchParams),_afterSearchEventHub(null,0,callback)}):window.splash.ohmyhub.searchHubData(hub_sfid,term,searchParams,function(hub_sfid,term,searchParams,matchingIds){0<matchingIds.length?window.splash.ohmyhub.setHubStatus($sf,"results"):window.splash.ohmyhub.setHubStatus($sf,"no-results"),window.splash.ohmyhub.renderHub(hub_sfid,{cache_items:!0,matchingIds:matchingIds,searching:!0}),_afterSearchEventHub(matchingIds,0,callback)})},searchHubData:function(hub_sfid,term,searchParams,callback){searchParams=searchParams||{};var terms=[];if(""==(term=term?term.toLowerCase().trim():"").trim()||"boskoff"==term)terms.push(" ");else if(searchParams.wordMatchingType&&"whole_sentence"==searchParams.wordMatchingType)terms.push(term);else if(searchParams.wordMatchingType&&"whole_word"==searchParams.wordMatchingType)for(var i in terms=term.split(" "))({}).hasOwnProperty.call(terms,i)&&(terms[i]=" "+terms[i]+" ");else terms=term.split(" ");var matchingIds=[];for(var j in terms)if({}.hasOwnProperty.call(terms,j)){var re=new RegExp("("+RegExp.escape(terms[j])+")");for(var hub_item_id in _h[hub_sfid].events)(" "+_h[hub_sfid].events[hub_item_id].search_terms+" ").match(re)&&-1===matchingIds.indexOf(hub_item_id)&&matchingIds.push(hub_item_id)}callback(hub_sfid,term,searchParams,matchingIds)},hideShowHubItemByProperty:function(hub_sfid,propertyName,propertyValue){if(void 0!==_h[hub_sfid]){var matchingIds=[];for(var sfid in _h[hub_sfid].events)_h[hub_sfid].events[sfid][propertyName]==propertyValue&&matchingIds.push(sfid);window.splash.ohmyhub.renderHub(hub_sfid,{cache_items:!0,matchingIds:matchingIds,searching:!0})}},getEventHubItemIds:function(hub_sfid){var event_ids={};if(!_h[hub_sfid].events)return event_ids;for(var shid in _h[hub_sfid].events)({}).hasOwnProperty.call(_h[hub_sfid].events,shid)&&(event_ids[_h[hub_sfid].events[shid].event_id]=shid);return event_ids},getRsvpCounts:function($sf){},getComments:function($sf,limit){},applyModeStyling:function($block,modeVal){},applyModeStylingSingle:function($hub_item,modeVal){},classifyNearbyEvents:function($sf,className,maxDistance,_callback){},setHubStatus:function($sf,statusClass){$sf.attr("data-status",statusClass),"function"==typeof window.customSetHubStatusLegacy&&window.customSetHubStatusLegacy($sf,statusClass)},getHubStatus:function($sf){var matches=$sf.attr("class").match(/status-([0-9a-z]+)/);if(void 0!==matches[1])return matches[1]},makeHubLinkable:function(sfid){$("#sfid-"+sfid).find(".children:first").find(".ohmyhub-item").each(function(){$(this).attr("id").replace(/shid-[0-9]+-/,"");$(this).addClass("linkable-ele")})},generateIframeMapsLinkFromVenue:function(venue){if(venue.tbd)return"https://www.google.com/maps/embed/v1/place?zoom=2&q=0,0&key=AIzaSyBIqWC2aJaQ3-rDPCJDS9wKKCrrASJ42Us";var venueString="";return venue.address?venueString+=venue.address?venue.address.replace(/[,\s]+[0-9]+[a-z\s]*(floor|apt)/i,"")+",":"":venue.name&&(venueString+=venue.name?venue.name+",":""),venueString+=venue.city?venue.city+",":"",venueString+=venue.state?venue.state+",":"",venueString+=venue.country?venue.country+",":"","https://www.google.com/maps/embed/v1/place?zoom=15&q="+encodeURI(venueString)+"&key=AIzaSyBIqWC2aJaQ3-rDPCJDS9wKKCrrASJ42Us"},generateExternalMapsLinkFromVenue:function(venue){if(venue.tbd)return"https://www.google.com/maps/place/0,0";var venueString="";return venue.address?venueString+=venue.address?venue.address.replace(/[,\s]+[0-9]+[a-z\s]*(floor|apt)/i,"")+",":"":venue.name&&(venueString+=venue.name?venue.name+",":""),venueString+=venue.city?venue.city+",":"",venueString+=venue.state?venue.state+",":"",venueString+=venue.country?venue.country+",":"","https://www.google.com/maps/place/"+encodeURI(venueString)},bind:function(){window.splash.ohmyhub.bindHub(),window.splash.ohmyhub.bindSearchBar()},bindHub:function($hubLayoutGrp){null==$hubLayoutGrp&&($hubLayoutGrp=$("#splash-container").find(".layoutGrp.ohmyhub"));var $body=$("body");$hubLayoutGrp.sortable({connectWith:".ohmyhub",items:".ohmyhub-item",handle:".drag-handle",cancel:".noDrag",scroll:!0,helper:function(event,element){return element.clone().appendTo("#hub-mastercard-workspace")},start:function(event,ui){$body.addClass("isDragging"),$body.addClass("partial-drag-lock")},stop:function(event,ui){var huborder=[],ohmyhubitems=[],hub_id=$(this).attr("id").replace("sfid-","");window.splash.ohmyhub.get(hub_id);ohmyhubitems.push($(this).find(".children").find(".ohmyhub-item"));for(var i=0;i<ohmyhubitems[0].length;i++){var hubid=ohmyhubitems[0][i].id;huborder.push(hubid.replace("sfid-",""))}$body.removeClass("partial-drag-lock"),_h[hub_id].sorting=huborder,window.splash.ohmyhub.renderHub(hub_id),window.splash.PubSub.publish("page-changes-made","layout"),huborder=[]},update:function(event,ui){!function(event,ui){$body.removeClass("isDragging");var movedGroupId=ui.item[0].id,$movedGroup=$("#"+movedGroupId),$prevGroup=$movedGroup.prev(".layoutGrp"),$movedFt=$("#ft"+movedGroupId);if(0<$prevGroup.length){var prevGroupId=$prevGroup.attr("id");$("#ft"+prevGroupId).after($movedFt)}else{var parentId=$movedGroup.parents(".layoutGrp:first").attr("id");$("#ft"+parentId).children(".accordion").after($movedFt)}}(0,ui)}})},getSearchBarForHub:function(hub_id){return $("#splash-container").find('.ohmyhub-search[hubId="'+hub_id+'"]')},bindSearchBar:function($searchBarSf){null==$searchBarSf&&($searchBarSf=$("#splash-container").find(".search-bar"));var $searchBarInput=$searchBarSf.find(".search-bar-input");$searchBarInput.on("keyup",function(e){if(13==e.keyCode){var $search=$(this),term=$search.val(),$searchBlock=$search.closest(".sf"),hubId=$search.closest(".layoutGrp").attr("hubId"),$block=$(".sf.ohmyhub[hubId="+hubId+"]"),searchParams=$search.data();if(!$block.length)return!1;$searchBlock.addClass("is-searching"),setTimeout(function(){window.splash.ohmyhub.searchHub($block.attr("id"),term,searchParams,function(){$searchBlock.removeClass("is-searching")})},0)}}),$searchBarSf.find(".search-bar-button").on("click",function(e){var $search=$(this).closest(".ohmyhub-search").find(".search-bar-input"),term=$search.val(),$searchBlock=$search.closest(".sf"),hubId=$search.closest(".layoutGrp").attr("hubId"),$block=$(".sf.ohmyhub[hubId="+hubId+"]"),searchParams=$search.data();if(!$block.length)return!1;$searchBlock.addClass("is-searching"),window.splash.ohmyhub.searchHub($block.attr("id"),term,searchParams,function(){$searchBlock.removeClass("is-searching")})}),1==$searchBarInput.attr("data-autocomplete_cities")&&window.setAddressAutocomplete($searchBarInput,{only_cities:1})},getByHubId:function(hubId,type){return type&&"layoutGrp"!=type?"sf"==type?$("#main-canvas").find('.sf.ohmyhub[hubId="'+hubId+'"]'):"search-bar"==type?$("#main-canvas").find('.layoutGrp.ohmyhub-search[hubId="'+hubId+'"]'):"ohmyhub-nav"==type?$("#main-canvas").find('.layoutGrp.ohmyhub-search[hubId="'+hubId+'"]'):void 0:$("#main-canvas").find('.layoutGrp.ohmyhub[hubId="'+hubId+'"]')},getHubLayoutGrp:function($layoutGrp){var hubId=$layoutGrp.attr("hubId");return $("#splash-container").find(".ohmyhub.layoutGrp[hubId="+hubId+"]")}}}(jQuery),window.splash.navElement=function($){return{initAll:function(){$.each($(".sf.nav"),function(){$(this).find(".nav-dropdown-selected>div").html($(this).find(".nav-item:first a").html()),window.splash.navElement.renderAdaptiveNav($(this)),$(this).removeClass("hide")}),window.splash.navElement.bind()},toggleMobileMenu:function($sf,$selected_link){var $children=$sf.children(".children"),$dropdown=$sf.find(".nav-dropdown-selected");void 0!==$selected_link&&$selected_link.is("a")&&$children.hasClass("open")&&$sf.find(".nav-dropdown-selected .body").html($selected_link.html()),$children.hasClass("open")?($children.removeClass("open"),$dropdown.removeClass("open")):($children.addClass("open"),$dropdown.addClass("open"))},linkableContainerAction:function($container,event){window.jumpToNavBlock($container,event)},renderAdaptiveNav:function($nav){if($nav.hasClass("horizontal-hamburger-left-v2")||$nav.hasClass("horizontal-dropdown-v2")){var isMobile,small_screen=!1,width_exceeded=!1;if((isMobile=$("body").hasClass("isMobile"))||(small_screen=$(window).width()<800),!isMobile&&!small_screen){var container_width=$nav.closest(".layoutGrp").width(),nav_items_total_width=0;$.each($nav.find(".nav-item:visible"),function(){nav_items_total_width+=$(this).width()}),width_exceeded=container_width<nav_items_total_width}isMobile||width_exceeded||small_screen||$nav.children(".children").hasClass("open")&&$nav.children(".children").removeClass("open").end().find(".nav-dropdown-selected").removeClass("open")}},bind:function(){window.splash.navElement.bindNavs(),window.splash.navElement.bindLinkableContainers(),$(window).resize(window.debounce(function(){$.each($(".sf.nav"),function(){window.splash.navElement.renderAdaptiveNav($(this))})},350))},bindLinkableContainers:function(){$("body").hasClass("finetune")||$('.linkable-ele[linked="true"]').off().on("click",window.debounce(function(e){window.splash.navElement.linkableContainerAction($(this),e)},50))},bindNavs:function($nav_elements){void 0===$nav_elements&&($nav_elements=$("#splash-container").find(".sf.nav")),$nav_elements.on("click",".nav-dropdown-selected, .nav-hamburger",window.debounce(function(){window.splash.navElement.toggleMobileMenu($(this).closest(".nav.sf"))},50)),$("body").hasClass("finetune")||$nav_elements.on("click",".open .nav-item a",window.debounce(function(){window.splash.navElement.toggleMobileMenu($(this).closest(".nav.sf"),$(this))},50))}}}(jQuery),window.NavElement={toggleMobileMenu:function($sf,a){window.splash.navElement.toggleMobileMenu($sf,a)}},window.splash.repeatableElement=function($){return{getRepeatableContainerLayoutGrp:function($layoutGrp){var repeatableId=$layoutGrp.attr("data-repeatable-id");return $("#splash-container").find('.dope-repeatable-container[data-repeatable-id="'+repeatableId+'"]')},getRepeatableMasterLayoutGrp:function($layoutGrp){var repeatableId=$layoutGrp.attr("data-repeatable-id");return $("#splash-container").find('.dope-repeatable-master[data-repeatable-id="'+repeatableId+'"]')},isInsideLockedRepeatableContainer:function($layoutGrp){return!(!$layoutGrp.hasClass("dope-repeatable-child")&&!$layoutGrp.closest(".dope-repeatable-child").length||!$layoutGrp.closest(".dope-repeatable-locked").length)},isInsideRepeatableItem:function($layoutGrp){return $layoutGrp.closest(".dope-repeatable-child")&&!$layoutGrp.hasClass("dope-repeatable-child")}}}(jQuery),window.splash.socialLinksElement=function($){return{initAll:function(){window.splash.socialLinksElement.bind()},bind:function(){$("#splash-container, #rsvp-modal").on("click",".sf.social-links-v2 .social-btn",function(){var splashFeedOptions=$(this).closest(".sf.social-links-item").data("splashFeedOptions");splashFeedOptions&&splashFeedOptions.action||(splashFeedOptions={action:""}),"twitter-tweet"==splashFeedOptions.action?window.splash.socialActions.fireTweet(splashFeedOptions.body):"facebook-share"==splashFeedOptions.action?window.splash.socialActions.fireFacebookShare(splashFeedOptions.name,splashFeedOptions.description,splashFeedOptions.picture):"linkedin-share"==splashFeedOptions.action?window.splash.socialActions.fireLinkedInShare(splashFeedOptions.title,splashFeedOptions.description):"email-send"==splashFeedOptions.action?window.splash.socialActions.fireEmailSend(splashFeedOptions.subject,splashFeedOptions.body):"mms-send"==splashFeedOptions.action&&window.splash.socialActions.fireMmsSend(splashFeedOptions.caption)})}}}(jQuery),window.splash.attendeesElement=function($){var attendees={},opts={};return{getOptions:function(sfid){return void 0!==sfid?opts[sfid]:opts},initAll:function(){$.each($("#splash-container .sf.attendees"),function(){window.splash.attendeesElement.init($(this))}),$(window).resize(function(){window.debounce(function(){$.each($("#splash-container .sf.attendees"),function(){window.splash.attendeesElement.responsive($(this))})},250)})},init:function($sf){if(void 0===window.splash.server._event.id)return!1;var sfid=$sf.attr("id").replace("sfid-","");opts[sfid]={},opts[sfid].attendee_fields={},window.splash.attendeesElement.load($sf)},load:function($sf){var sfid=$sf.attr("id").replace("sfid-",""),parameters={action:"attendees",method:"getAttendees"};parameters.splash_feed_id=sfid,$sf.hasClass("modal")&&!window.splash.server.constants.finetune&&(parameters.count=!0),$.ajax({type:"POST",url:window.location.pathname,data:parameters}).done(function(response,status){try{response=JSON.parse(response.replace(/&amp;/g,"&"))}catch(e){return void console.log(e)}void 0!==response.errors?"unauthorized"==response.errors?(window.splash.attendeesElement.render($sf,{attendees:{},count:0}),$sf.find(".attendee-count-value").text("Save required for loading ")):(console.log("Get Attendees Response: errors"),console.log(response.errors)):void 0!==response.attendees?(void 0!==response.attendee_fields&&(opts[sfid].attendee_fields=response.attendee_fields),$sf.find(".attendee-list .attendee-item").remove(),attendees=response.attendees,window.splash.attendeesElement.render($sf,response)):void 0!==response.count?($sf.find(".attendee-count-value").text(0==response.count?"No":response.count),$sf.find(".attendee-title").removeClass("hide").addClass("title")):console.log("Get Attendees Response: no results"),"function"==typeof window.customAfterRenderAttendees&&window.customAfterRenderAttendees(response,sfid)}).fail(function(xhr,options,error){console.log("Get Attendees Response: "+xhr.status+" - "+error)})},render:function($sf,response){var sfid=$sf.attr("id").replace("sfid-",""),attendees=response.attendees,count=response.count;0==count&&window.splash.server.constants.finetune&&$sf.find(".attendee-wrapper").removeClass("hide");var $template=$sf.find(".attendee-template").clone(),$field_template=$sf.find(".attendee-field-template"),fields_to_render=opts[sfid].attendee_fields,$new_fields=$();for(var num in fields_to_render)if("first-name"!=num&&"last-name"!=num&&"1"==fields_to_render[num]){var $new_field=$field_template.clone().removeClass("attendee-field-template hide").addClass("attendee-"+num);$new_fields=$new_fields.add($new_field)}$template.find(".attendee-info").append($new_fields);var $attendee_items=$(),attendee_ids=Object.keys(attendees);for(var i in attendee_ids.reverse(),attendee_ids)if({}.hasOwnProperty().call(attendee_ids,i)){var attendee_id=attendee_ids[i],attendee=attendees[attendee_id];$attendee_items=$attendee_items.add(window.splash.attendeesElement.populateTemplate($template,attendee,attendee_id))}$sf.find(".attendee-list").append($attendee_items),window.splash.attendeesElement.responsive($sf),$sf.find(".attendee-count-value").text(0==count?"No":count),$sf.find(".attendee-count-text").text(window.splash.attendeesElement.singularOrPlural(count,$sf.find(".attendee-count-text").text())),$sf.find(".attendee-wrapper").removeClass("hide"),$sf.find(".attendee-title").removeClass("hide").addClass("title")},populateTemplate:function($markup,attendee_data,attendee_id){var $attendee=$markup.clone().removeClass("attendee-template").addClass("attendee-item");return null!=attendee_id&&$attendee.attr("id","attendee-"+attendee_id),$.each(attendee_data,function(key,value){if("avatar"==key)return!0;"user-id"==key?$attendee.attr("data-user-id",value):$attendee.find(".attendee-"+key).text(value).removeClass("hide")}),void 0!==attendee_data.avatar&&null!=attendee_data.avatar&&$attendee.find(".attendee-avatar img").attr("src",attendee_data.avatar).parent().removeClass("hide"),$attendee},responsive:function($sf){var sf_width=$sf.width();$sf[0].className=$sf[0].className.replace(/cols[0-9]/g,""),320<=sf_width&&sf_width<480?$sf.addClass("cols2").removeClass:480<=sf_width&&sf_width<760?$sf.addClass("cols3"):768<=sf_width&&sf_width<1e3?$sf.addClass("cols4"):1e3<=sf_width&&$sf.addClass("cols5")},singularOrPlural:function(count,text){return 1==count?text.replace("ttendees","ttendee").replace("embers","ember").replace("people","person").replace("are ","is ").replace("were","was "):text.replace("ttendee ","ttendees ").replace("ember ","embers ").replace("person","people").replace("is ","are ").replace("was","were ")},sortAttendees:function($sf,$attendees,sortField){$attendees.detach().sort(function(a,b){var a_id=$(a).attr("id").replace("attendee-",""),b_id=$(b).attr("id").replace("attendee-",""),v1=attendees[a_id][sortField].trim(),v2=attendees[b_id][sortField].trim();return v1<v2?-1:v2<v1?1:0}),$sf.append($attendees)}}}(jQuery),window.AttendeesElement={initAll:function(){window.splash.attendeesElement.initAll()},init:function($sf){window.splash.attendeesElement.init($sf)},load:function($sf){window.splash.attendeesElement.load($sf)},render:function($sf,response){window.splash.attendeesElement.render($sf,response)},populateTemplate:function($markup,attendee_data,attendee_id){window.splash.attendeesElement.populateTemplate($markup,attendee_data,attendee_id)},responsive:function($sf){window.splash.attendeesElement.responsive($sf)},singularOrPlural:function(count,text){window.splash.attendeesElement.singularOrPlural(count,text)},sortAttendees:function($sf,$attendees,sortField){window.splash.attendeesElement.sortAttendees($sf,$attendees,sortField)}},window.splash.countdownElement=function(splash,$){return{initAll:function(){$("#splash-container .sf.countdown").each(function(){splash.countdownElement.init($(this))})},init:function($sf){if(splash.server._event.date.tbd)$sf.find(".countdown-date-tbd").show().end().find(".countdown-body").hide();else if(splash.Countdown){var countdown=new splash.Countdown({date:splash.server._event.date.start_timestamp,onUpdate:function(data){splash.countdownElement.render(data,$sf)}});$sf.data("countdown",countdown)}else setTimeout(function(){throw new Error("Countdown element error, no countdown module.")},0)},render:function(data,$sf){$sf.find(".countdown-plain .days").text(data.days+365*data.years),$sf.find(".countdown-plain .hours").text(data.hours),$sf.find(".countdown-plain .minutes").text(data.min);var sec=10<=data.sec?data.sec:"0"+data.sec;$sf.find(".countdown-plain .seconds").text(sec)},updateAll:function(){if(splash.server._event.date.tbd)$("#splash-container .sf.countdown .countdown-date-tbd").show(),$("#splash-container .sf.countdown .countdown-body").hide(),$("#splash-container .sf.countdown").each(function(){var countdown=$(this).data("countdown");countdown&&countdown.stop()});else{var newTime=new Date(splash.server._event.date.start);$("#splash-container .sf.countdown").each(function(){if(void 0===$(this).data("countdown"))splash.countdownElement.init($(this));else{var countdown=$(this).data("countdown");countdown&&countdown.update(newTime).start()}}),$("#splash-container .sf.countdown .countdown-date-tbd").hide(),$("#splash-container .sf.countdown .countdown-body").show()}}}}(window.splash,window.jQuery),window.splash.galleryExistsOnPage=galleryExistsOnPage,window.splash.galleryElement={galleryMasonryVars:{itemSelector:".sort"}};var ticket_id={};function eventSiteDocumentReady(){var $body=$("body"),$document=$(document),$window=$(window),$mainCanvas=$("#main-canvas"),$splashContainer=$("#splash-container"),$rsvpModal=$("#rsvp-modal"),$rsvpFormInner=$("#rsvp-form-inner"),$footer=$("#footer"),hash=window.location.hash;if(1<hash.length&&void 0===window.splash.server._user.id){hash=hash.substring(1);var url=document.location.protocol+"//"+window.splash.server.constants.ocbDomain+"/hashlogin?redirect=";window.splash.server._event&&window.splash.server._event.domain&&(url+=encodeURIComponent(document.location.protocol+"//"+window.splash.server._event.domain.edit+"#"+hash)),window._.each(window.splash.finetuneRoutes,function(func,hashMatch){new RegExp(hashMatch.replace(")","){0,1}").replace(/:[a-z]+/,"([a-z]+)")).exec(hash)&&(window.location=url)})}window.windowHeight=$window.height();var isMobile=/iPhone|iPod|iPad|Android|BlackBerry|Tablet/.test(navigator.userAgent);if(isMobile&&$body.addClass("isMobile"),$body.hasClass("finetune")||0!==$("#gallery-thumbs").find(".photo-thumb").length||1!==$(".element-gallery").length||$(".element-gallery").remove(),$body.removeClass("loading"),isMobile){$("#simple-modal-wrap").find(".simple-modal-flow-control").css("min-height",windowHeight+"px");var modalHeight=$rsvpModal.outerHeight();if(modalHeight+30<windowHeight){var thisOffset=(windowHeight-modalHeight)/2;$rsvpModal.addClass("isShort").css("top",thisOffset+"px")}}$footer.on("click","#footerCalendarBtn",function(){var $footerCalendarBtn=$(this);$footerCalendarBtn.hasClass("active")?$footerCalendarBtn.add($("#footerCalendarLinksWrap")).removeClass("active"):($footerCalendarBtn.add($("#footerCalendarLinksWrap")).addClass("active"),$.browser.android&&$footerCalendarBtn.find(".gmail-link").addClass("is-hidden"))}),sizePageContainerSoThatFooterIsAtTheBottom();var navPos,$navWrap=$mainCanvas.find(".navWrap:first");void 0!==$navWrap&&void 0!==$navWrap.position()&&null!==$navWrap.position()&&(navPos=$navWrap.position().top),void 0!==navPos&&!1!==navPos&&$window.scroll(window.debounce(function(){$(this).scrollTop()>navPos?$navWrap.addClass("fixed"):$navWrap.removeClass("fixed")}),100),void 0===navPos||!1===navPos||$("body").hasClass("finetune")||$mainCanvas.find(".nav-item").click(function(){return $(this).find("a.nav-jump").click(),!1}),$("#ticketForm").on("click",".more-info",function(){var $desc=$(this).siblings(".description");$desc.hasClass("hide")?$desc.removeClass("hide"):$desc.addClass("hide")}),$document.on("click","a.add-cal",function(e){e.preventDefault(),$(this).parents("div:first").find(".the-cals").removeClass("hide"),$("#add-cal-wrap").addClass("addingToCal")}),$rsvpFormInner.on("click","#add-message",function(event){event.preventDefault(),$(this).hide(),$("#rsvp-message").removeClass("hide").focus().width()}),$rsvpFormInner.on("keyup",".form-field",function(e){if(13==e.which){var $this=$(this);if(!$this.hasClass("textarea")){if($this.parent().hasClass("radio")&&($this.click(),$this.hasClass("attending-toggle")))return window.splash.pageAction.submitRsvpForm(),!1;var $n=$this.next(".form-field");if(0<$n.length)$n.focus();else{var input_index=1*$this.index(),next=input_index,$next_input=$rsvpFormInner.find(".form-field:eq("+next+")");0<$next_input.length?$next_input.focus():(next=input_index+1,0<($next_input=$rsvpFormInner.find(".form-field:eq("+next+")")).length&&$next_input.focus())}}}}),$rsvpFormInner.on("change",".date-select",function(){var $this=$(this),$parent=$this.parents(".date-holder");if($this.hasClass("month"))if(-1<$.inArray($this.val(),["02","04","06","09","11"]))if($parent.find(".day:first").find(".option[value='29'],.option[value='30'],.option[value='31']").hide(),"02"==$this.val()){var yearValue=$parent.find(".year").val();if(""!=yearValue)1==new Date(yearValue,1,29).getMonth()&&$parent.find(".day:first").find(".option[value='29']").show()}else $parent.find(".day:first").find(".option").show().end().find(".option[value='31']").hide();else $parent.find(".day:first").find(".option").show();else if($this.hasClass("year")){var year=$this.val();if("02"==$parent.find(".month").val())1==new Date(year,1,29).getMonth()?$parent.find(".day:first").find(".option[value='29']").show():$parent.find(".day:first").find(".option[value='29']").hide()}var p_year=$parent.find(".year").val(),p_month=$parent.find(".month").val(),p_day=$parent.find(".day").val();$this.parents(".date-holder").find("input.custom").val(p_year+"-"+p_month+"-"+p_day)}),$("#sendANote, #contactOrgFtr").click(function(event){return event.preventDefault(),openContactOrganizerModal(),!1}),$rsvpModal.on("change","#attendee_count",function(){var attendeeCount=parseInt($(this).val(),10),$guestInfoWraps=$(".guest-info-wrap");$(".guest-info-wrap").addClass("is-hidden");for(var i=0;i<attendeeCount-1;i++)$guestInfoWraps.eq(i).removeClass("is-hidden")}),$rsvpModal.on({click:function(){var $this=$(this);$this.prop("checked")?$this.parents(".options").find("input.other-input-field").fadeIn(300,function(){$(this).focus()}):$this.parents(".options").find("input.other-input-field").val("").hide()}},'input[value="include_other_opt"]'),$rsvpModal.on({click:function(){"include_other_opt"!=$(this).val()&&$(this).parents(".options").find("input.other-input-field").val("").hide()}},".radio input"),$document.on({change:function(){var $this=$(this);1==$this.val()?$this.parents(".options").find("input.other-input-field").fadeIn(300,function(){$(this).focus()}):$this.parents(".options").find("input.other-input-field").val("").hide()}},'input[field="include_other_opt"], input[use-val="include_other_opt"]'),$document.on("change","select, input.dropdown",function(){var $t=$(this),$input=$t.parents(".select-holder:first").find("input.other-input-field");0<$input.length&&("include_other_opt"==$t.val()?$input.fadeIn().focus():$input.hide().val(""))}),$document.on("click",".plus-one-wrap label",function(e){var isChecked="checkbox"===$("#rsvp-plus-1").attr("type")?$("#rsvp-plus-1").is(":checked"):parseInt($("#rsvp-plus-1").val(),10),$plusOneInputs=$(e.currentTarget).parents(".plus-one-wrap").find("input");isChecked?$plusOneInputs.removeClass("is-hidden"):$plusOneInputs.addClass("is-hidden").val("")}),$document.on("click",".attending-wrap",function(){$(".cantMakeIt").find("input").is(":checked")||($rsvpFormInner.find(".attending-wrap").removeClass("selected"),$(this).addClass("selected"))}),$document.on("change",'input[type="file"]',function(){var filename=$(this).val().replace(/C:\\fakepath\\/i,"");$(this).attr("data-content","Uploaded: "+filename).addClass("uploaded")}),$document.on("click","#rsvp-submit",window.debounce(function(){window.splash.pageAction.submitRsvpForm()},100)),galleryInit(),$document.on("click","#afterRsvpMessage .close",function(){window.closeSimpleModal()}),$("#view-attendees").click(function(){return window.splash.attendeesV1Modal.openModal(),!1});var openTicketCalcTimer,closingSimple=!1,closeSimpleWithDelay=function(){$body.removeClass("showSimple"),clearTimeout(closingSimple),closingSimple=setTimeout(function(){window.closeSimpleModal()},300)};if($("#simple-modal-wrap").on("click",function(event){if("none"!==$rsvpModal.css("display")&&$(event.target).hasClass("simple-modal-flow-control"))return event.preventDefault(),"none"!=$("#rsvp-modal").css("display")&&closeSimpleWithDelay(),!1}),$rsvpModal.on("click",".close-form",function(event){return event.preventDefault(),closeSimpleWithDelay(),!1}),$document.on("click","#purchase-button",function(){return window.splash.pageAction.submitTicketForm(),!1}),$document.on({keyup:function(){var $this=$(this);clearTimeout(openTicketCalcTimer);var inc=0;"text"==$this.prop("type")&&(inc=1250),openTicketCalcTimer=setTimeout(function(){openPriceValidationCheck($this)},inc)},blur:function(){var $this=$(this);clearTimeout(openTicketCalcTimer),openTicketCalcTimer=setTimeout(function(){openPriceValidationCheck($this)},0)}},"input.open_price_buy"),void 0!==window.splash.server.constants.rsvp_form_field_values)for(var key in window.splash.server.constants.rsvp_form_field_values)if({}.hasOwnProperty.call(window.splash.server.constants.rsvp_form_field_values,key)){var value=$.trim(window.splash.server.constants.rsvp_form_field_values[key]);if("first_name"==key||"last_name"==key||"email"==key){($input=window.splash.pageAction.getReservedInputWithFallback(key)).val(value)}else{var num=key.replace("custom_field_","");if(1==($input=$rsvpFormInner.find('input[num="'+num+'"]:first')).length){var type=$input.attr("type")||!1;if("radio"==type||"checkbox"==type){var set=!1;if($rsvpFormInner.find('input[num="'+num+'"]').each(function(){var $this=$(this);$this.attr("type")==type&&$this.val()==value?($this.prop("checked",!0),set=!0):$this.removeAttr("checked")}),0==set)1==($input=$rsvpFormInner.find('input[num="'+num+'"].other-input-field')).length&&($rsvpFormInner.find('input[num="'+num+'",value="include_other_opt"]').prop("checked",!0),$input.val(value))}else if($input.parent().hasClass("nu-checkbox"))if($input.hasClass("multi")){var values=(""+value).split("||"),matchedValues=[];if($rsvpFormInner.find('input[num="'+num+'"]').each(function(){var $t=$(this);-1!==$.inArray($t.attr("value"),values)&&($t.parent().addClass("checked"),matchedValues.push($t.attr("value")))}),values.length!=matchedValues.length){var $otherInput=$rsvpFormInner.find('input.other-input-field[num="'+num+'"]:first');if(1==$otherInput.length){for(var otherValue="",i=0;i<values.length;i++)-1===$.inArray(values[i],matchedValues)&&(""!=otherValue&&(otherValue+=" "),otherValue+=(""+values[i]).replace("Other: ",""));$otherInput.prev(".nu-checkbox:first").addClass("checked"),$otherInput.val(otherValue),$otherInput.show()}}}else""!=value&&$input.parent().addClass("checked");else $input.parent().hasClass("nu-dropdown")?(""+value).match(/^Other: /)?(window.flipDropDown($input.parent(),"include_other_opt",!0),$input.parent().siblings("input.other-input-field:first").val((""+value).replace(/^Other: /,"")).blur()):window.flipDropDown($input.parent(),value,!0):"file"===$input.attr("type")||($input[0].value=value)}else{var $input;if(1==($input=$rsvpFormInner.find('textarea[num="'+num+'"]:first')).length)$input.val(value);else if(1==($input=$rsvpFormInner.find('select[num="'+num+'"]:first')).length)$input.val(value);else($input=$('<input id="custom-'+num+'" class="custom optional" num="'+num+'" name="custom_field_'+num+'" type="hidden" />')).val(value),$rsvpFormInner.append($input)}}}if($splashContainer.on("click","a",function(event){var $clickedLink=$(this);if($clickedLink.hasClass("nav-jump")||$clickedLink.hasClass("button-link")){var allowFinetuneButtonClicks=!1;if(window.splash&&window.splash.server&&window.splash.server.constants&&window.splash.server.constants.finetuneHovers&&"hide"===window.splash.server.constants.finetuneHovers&&(allowFinetuneButtonClicks=!0),!window.splash.server.constants.finetune||allowFinetuneButtonClicks){if("_blank"!=$clickedLink.prop("target")&&"_self"!=$clickedLink.prop("target")){if($clickedLink.parents(".grp:first").hasClass("firstTiny"))return!1;jumpToNavBlock($clickedLink,event)}}else event.preventDefault()}else takeLinkActionToTopLevelFrameIfNeeded($clickedLink,event)}),$mainCanvas.find(".carousel").each(function(){$(this).activateCarousel()}),$rsvpModal.on("click",".shareBox .icon",function(e){var type=$(this).parents(".method:first").attr("method");window.splash.analytics.track("event-shareIconClick",{"share-type":type}),"facebook"==type&&window.splash.socialActions.fireFacebookShare(),"twitter"==type&&window.splash.socialActions.fireTweet(),"linkedin"==type&&window.splash.socialActions.fireLinkedInShare()}),$rsvpModal.on("keyup",".shareBox .method[method=email] input",function(e){13==e.which&&$(this).siblings("a:first").click()}),$rsvpModal.on("click",".shareBox .method[method=email] a",function(e){e.preventDefault();var $this=$(this),$parent=$this.parents(".method");if($this.hasClass("in-progress"))return!1;var $shareBox=$this.parents(".shareBox:first"),$emailS=$shareBox.find("input.share-rsvp-email-input"),email=$emailS.val(),url=$this.attr("share-url");window.isValidEmail(email)?($emailS.attr("disabled","disabled"),$this.addClass("in-progress").text("Sending..."),$.ajax(window.splash.server.constants.formBase+"/emailShare",{type:"POST",data:{email:email,url:url},dataType:"json",success:function(response){$shareBox.find("img.loading").remove(),$emailS.val("").removeAttr("disabled"),$this.removeClass("in-progress").text("Message sent!"),setTimeout(function(){$this.text("Send message"),$parent.find(".icon:first").click()},2500)},error:function(){$shareBox.find("img.loading").remove(),$this.show(),$emailS.removeAttr("disabled")},timeout:1e4})):(alert("Please enter a valid Email Address."),$emailS.select())}),$rsvpModal.on("click",".shareBox .closeShareBox",function(e){var $shareBox=$(this).parents(".shareBox:first");$shareBox.animate({width:"0px"},350,"linear",function(){$shareBox.remove()})}),$rsvpModal.on("click",".shareBox .method .icon",function(e){var $m=$(this).closest(".method"),$p=$m.closest(".shareBox"),clear=$p.hasClass($m.attr("n"))||$m.hasClass("jammed");$p.find(".method").each(function(){$p.removeClass($(this).attr("n"))}),!1===clear&&$p.addClass($m.attr("n"))}),$rsvpModal.on("click",".nu-checkbox > a",function(e){return e.preventDefault(),window.open($(this).attr("href"),"_blank"),!1}),navigator.userAgent.match(/Trident\/7\./)){$body.addClass("isIE");var thisVer=(""+$.browser.version).substring(0,2).replace(".","");$body.addClass("v"+thisVer)}else $body.removeClass("isIE");window.splash.server.constants.openRsvp&&window.splash.pageAction.showPageActionForm(),$("#rsvp-plus-1").click(function(){$("#guest-name").toggleClass("active")}),$document.on("change",".custom-file-upload",function(){var $input=$(this),uploadImgId=$input.data("customfield-img"),$container=$input.closest(".custom-file-upload-holder");window.splash.customFileUpload($input,{$container:$container,$hiddenInput:$container.find(".custom-file-upload-url"),$placeholder:$("#customfield-img-"+uploadImgId),uploadImgId:uploadImgId})}),window.splash.pageAction.bind(),window.splash.pageAction.detectIframe();try{window.splash.pageAction.evaluateConditions()}catch(error){setTimeout(function(){throw new Error(error)},0)}setTimeout(function(){matchHeight()},10),window.location&&"#contact-organizer"===window.location.hash&&openContactOrganizerModal(),$document.on("click",'.social-auth-container[network="facebook"]',function(e){e.preventDefault(),window.FB.getLoginStatus(function(response){console.log(response),"connected"===response.status?(getFacebookInfo(response.authResponse.signedRequest),removeHighlightColor(),$('.social-auth-container[network="facebook"]').addClass("selected-color")):window.FB.login(function(response){response.authResponse&&(getFacebookInfo(response.authResponse.signedRequest),removeHighlightColor(),$('.social-auth-container[network="facebook"]').addClass("selected-color"))},{scope:"public_profile, email"})})}),$document.on("click",'.social-auth-container[network="linkedin"]',function(e){e.preventDefault();var url=("https:"==document.location.protocol?"https://":"http://")+window.splash.server.constants.ocbDomain+"/events/remoteAuth/0/linkedin/?_callback=linkedinAuthed";window.open(url,"LinkedInAuth","width=540,height=585")}),$(".social-auth-fields input.form-field").on("change",function(){$(this).closest("div").removeClass("icon-f-facebook-rect icon-f-linkedin-squared")});var galleryPhotoId=window.getParameterByName("pid");if(0<galleryPhotoId&&showTheGallery(galleryPhotoId),0<window.getParameterByName("autoopen")){var isTakingScreenshot=window.getParameterByName("isTakingScreenshot");if(window.splash.pageAction.showPageActionForm(),0<isTakingScreenshot){var styleTag=document.createElement("style"),captureDiv=document.createElement("div");captureDiv.classList.add("say-cheese"),styleTag.innerHTML="#rsvp-modal { position: absolute; top: 0; left: 0; margin-top: 0 !important; }",document.head.appendChild(styleTag),document.body.appendChild(captureDiv)}}if(window.getParameterByName("showConfirmation")&&window.splash.PageActionManager&&window.splash.PageActionManager.flipToConfirmationModeForScreenshots&&window.splash.PageActionManager.flipToConfirmationModeForScreenshots(),setTimeout(function(){autoFontResize()},0),window.splash.server.captcha_enabled&&"collect"===window.splash.server._event.rsvp_method&&("open"===window.splash.server._event.rsvp_status||"waitist"===window.splash.server._event.rsvp_status)){var $nodeToAttachCaptcha=$("#rsvp-modal").find(".btnWrap");if($nodeToAttachCaptcha.length){var captchaModal=window.splash.captchaFactory({attachTo:$nodeToAttachCaptcha,attachMethod:"before",splashGlobal:window.splash});captchaModal.attachCaptcha().then(function(){$("#rsvp-modal").find(".g-recaptcha").data("captcha-instance",captchaModal)})}else console.warn("DOM node to attach captcha not found")}$(".cms-block-type-content.linked-to-user-name").find(".body").text(window.splash.cmsUtils.getLoggedInUserDisplayName()),$document.on("click",".urlShare",function(e){e.preventDefault();var $this=$(this);if(0==$this.find("input").length){var $p=$('<input type="text" />');$p.css({width:"171px",fontFamily:"Arial,sans-serif",fontSize:"12px",position:"absolute",right:"108px",top:"52px",background:"#eeeeee",display:"inline-block"}),$p.attr("disabled",!0),$p.val($this.attr("href")),$this.append($p),$p.select()}else $this.find("input").remove();return!1}),$document.on("click","a.backToTop",function(event){return event.preventDefault(),$("html, body").animate({scrollTop:0},300),!1}),$document.on("click","#loadMoreThumbs",function(){checkViewportForThumbsToLoad()}),$(window).resize(window.debounce(window.onWindowResize,250))}function takeLinkActionToTopLevelFrameIfNeeded(link,event){if(window.splash.server.constants.onCmsPage){var href;if("string"==typeof link)href=link;else{if(void 0===link.jquery)return!1;href=link.attr("href")}if(href&&0!==href.indexOf("#"))return event.preventDefault(),parent.location=href,!0}return!1}function getFacebookInfo(signed_request){window.FB.api("/me",function(response){var data={};if(void 0!==response.email&&(data.email=response.email),void 0!==response.first_name&&(data.first_name=response.first_name),void 0!==response.last_name&&(data.last_name=response.last_name),void 0===data.first_name&&void 0===data.last_name&&void 0!==response.name){var split_name=response.name.split(" ");2==split_name.length&&(data.first_name=split_name[0],data.last_name=split_name[1])}if(void 0!==response.birthday&&(data.birth_date=response.birthday),void 0!==response.gender&&(data.gender=response.gender),void 0!==response.location&&void 0!==response.location.name){data.location=response.location.name;var split_location=data.location.split(",");2==split_location.length&&(data.state=split_location[1].trim())}void 0!==response.website&&(data.website=response.website),void 0!==response.work&&0<response.work.length&&(void 0!==response.work[0].employer&&void 0!==response.work[0].employer.name&&(data.company=response.work[0].employer.name),void 0!==response.work[0].description&&(data.job_title=response.work[0].description)),fillRsvpForm(data,"facebook");var encoded_response=JSON.stringify(response),$social_input=$("#rsvp-form-inner").find('input[social-attr="splash_facebook_rsvp"]');0<$social_input.length&&$social_input.val(encoded_response)},{fields:"id,name,email,gender,birthday,location,website,work"})}function fillRsvpForm(rsvp_data,social_network){var $rsvp_form=$(".rsvp-form");void 0!==rsvp_data.first_name&&($rsvp_form.find('input[name="first_name"]').val(rsvp_data.first_name),socialIconInputUpdate("first-name",social_network)),void 0!==rsvp_data.last_name&&($rsvp_form.find('input[name="last_name"]').val(rsvp_data.last_name),socialIconInputUpdate("last-name",social_network)),void 0!==rsvp_data.email&&($rsvp_form.find('input[name="email"]').val(rsvp_data.email),socialIconInputUpdate("email",social_network));for(var custom_fields=window.splash.server._event.custom_rsvp_fields,i=0;i<Object.keys(custom_fields).length;i++){var field=custom_fields[i],name=field.name;(/^company/i.test(name)||/^organization/i.test(name))&&void 0!==rsvp_data.company&&fillValueByType($rsvp_form,field,rsvp_data.company,social_network),/^job ?title/i.test(name)&&void 0!==rsvp_data.job_title&&fillValueByType($rsvp_form,field,rsvp_data.job_title,social_network),/^address/i.test(name)&&void 0!==rsvp_data.address&&fillValueByType($rsvp_form,field,rsvp_data.address,social_network),/^city/i.test(name)&&void 0!==rsvp_data.city&&fillValueByType($rsvp_form,field,rsvp_data.city,social_network),/^state/i.test(name)&&void 0!==rsvp_data.state&&fillValueByType($rsvp_form,field,rsvp_data.state,social_network),/^zip/i.test(name)&&void 0!==rsvp_data.zip&&fillValueByType($rsvp_form,field,rsvp_data.zip,social_network),/^phone/i.test(name)&&void 0!==rsvp_data.phone&&fillValueByType($rsvp_form,field,rsvp_data.phone,social_network),/^website/i.test(name)&&void 0!==rsvp_data.website&&fillValueByType($rsvp_form,field,rsvp_data.website,social_network),(/^gender/i.test(name)||/^sex/i.test(name))&&void 0!==rsvp_data.gender&&fillValueByType($rsvp_form,field,rsvp_data.gender,social_network),/^birth ?da(te|y)/i.test(name)&&void 0!==rsvp_data.birth_date&&fillValueByType($rsvp_form,field,rsvp_data.birth_date,social_network),/^instagram/i.test(name)&&void 0!==rsvp_data.instagram&&fillValueByType($rsvp_form,field,rsvp_data.instagram,social_network),/^twitter/i.test(name)&&void 0!==rsvp_data.twitter&&fillValueByType($rsvp_form,field,rsvp_data.twitter,social_network),/^pinterest/i.test(name)&&void 0!==rsvp_data.pinterest&&fillValueByType($rsvp_form,field,rsvp_data.pinterest,social_network)}}function fillValueByType($rsvp_form,field,value,social_network){if("text"==field.type){var $rsvp_form_input=$rsvp_form.find('input[name="'+field.column_name+'"]'),$rsvp_form_input_parent=$rsvp_form_input.parent().closest("div");switch($rsvp_form_input.val(value),$rsvp_form_input_parent.removeClass("icon-f-twitter icon-f-facebook-rect icon-f-linkedin-squared icon-f-googleplus-rect"),social_network){case"facebook":$rsvp_form_input_parent.addClass("kohtello-icon icon-f-facebook-rect");break;case"twitter":$rsvp_form_input_parent.addClass("kohtello-icon icon-f-twitter");break;case"linkedin":$rsvp_form_input_parent.addClass("kohtello-icon icon-f-linkedin-squared");break;case"google_plus":$rsvp_form_input_parent.addClass("kohtello-icon icon-f-googleplus-rect")}}else if("radio"==field.type){var $radio_container=$rsvp_form.find('input[num="'+field.number+'"]').parents(".radio-holder"),$options=$radio_container.find('input[type="radio"]');switch($.each($options,function(i,option){var $option=$(option),option_value=$option.val();if(new RegExp("^"+value,"i").test(option_value))return $option.click(),!1}),$radio_container.removeClass("icon-f-twitter icon-f-facebook-rect icon-f-linkedin-squared icon-f-googleplus-rect"),social_network){case"facebook":$radio_container.addClass("kohtello-icon icon-f-facebook-rect");break;case"twitter":$radio_container.addClass("kohtello-icon icon-f-twitter");break;case"linkedin":$radio_container.addClass("kohtello-icon icon-f-linkedin-squared")}}else if("date"==field.type){var split_date,month,day,year;3==(split_date=-1<value.indexOf("/")?value.split("/"):-1<value.indexOf("-")?value.split("-"):value.split("/")).length?(month=split_date[0],day=split_date[1],year=split_date[2]):2==split_date.length?(month=split_date[0],day=split_date[1]):1==split_date.length&&(year=split_date[0]);var $dropdown,$date_container=$rsvp_form.find('input[name="'+field.column_name+'"]').parents(".date-holder");switch(void 0!==day&&($dropdown=$date_container.find(".nu-dropdown.day"),window.flipDropDown($dropdown,day,!0)),void 0!==month&&($dropdown=$date_container.find(".nu-dropdown.month"),window.flipDropDown($dropdown,month,!0)),void 0!==year&&($dropdown=$date_container.find(".nu-dropdown.year"),window.flipDropDown($dropdown,year,!0)),$date_container.removeClass("icon-f-twitter icon-f-facebook-rect icon-f-linkedin-squared icon-f-googleplus-rect"),social_network){case"facebook":$date_container.addClass("kohtello-icon icon-f-facebook-rect");break;case"twitter":$date_container.addClass("kohtello-icon icon-f-twitter");break;case"linkedin":$date_container.addClass("kohtello-icon icon-f-linkedin-squared")}}}function removeHighlightColor(){$(".social-auth-container").removeClass("selected-color")}function socialIconInputUpdate(input_field,social_network){var $inputSocialField=$("#rsvp-form-inner .social-auth-fields .rsvp-"+input_field+".kohtello-icon");switch($inputSocialField.removeClass("icon-f-twitter icon-f-facebook-rect icon-f-linkedin-squared icon-f-googleplus-rect"),social_network){case"facebook":$inputSocialField.addClass("icon-f-facebook-rect");break;case"twitter":$inputSocialField.addClass("icon-f-twitter");break;case"linkedin":$inputSocialField.addClass("icon-f-linkedin-squared")}}function getDOMNodeHeight($node){return Element.prototype.getBoundingClientRect?$node[0].getBoundingClientRect().height:$node.outerHeight()}function getMatchHeightContainers($el){return $el||($el=$("#splash-container")),$el.find(".layoutGrp.match-height")}function matchHeight($layoutGrp,forcedMatchHeightMode,forceWithoutLayoutGroup,opts){opts="object"==typeof opts?opts:{},null==$layoutGrp&&($layoutGrp=getMatchHeightContainers()),$layoutGrp.hasClass("layoutGrp")||forceWithoutLayoutGroup||($layoutGrp=$layoutGrp.closest(".layoutGrp")),$layoutGrp.each(function(){var $thisLayoutGrp=$(this),matchMode="string"==typeof forcedMatchHeightMode?forcedMatchHeightMode:$thisLayoutGrp.attr("match-height"),childrenSelector=opts.childrenSelector||".list-item";$layoutGrp.hasClass("container-ele")||$layoutGrp.hasClass("dope-repeatable-container")?childrenSelector="> .grp":$layoutGrp.hasClass("ohmyhub")&&(childrenSelector=".ohmyhub-item, .hub-mastercard-workspace .event-hub-master-card"),"string"==typeof matchMode&&"section"===matchMode?matchSectionsHeight($thisLayoutGrp,childrenSelector):"string"==typeof matchMode&&"none"===matchMode?unmatchHeight($thisLayoutGrp):matchChildrenHeight($thisLayoutGrp,childrenSelector)})}function matchChildrenHeight($layoutGrp,childrenSelector){var thisHeight=0;$layoutGrp.find(childrenSelector).each(function(){var $child=$(this);$child.css("min-height","");var childHeight=getDOMNodeHeight($child);thisHeight<childHeight&&(thisHeight=childHeight)}),$layoutGrp.find(childrenSelector).css("min-height",thisHeight+"px").addClass("match-height-affected")}function matchSectionsHeight($layoutGrp,childrenSelector){var heights={};for(var sectionClass in $layoutGrp.find(childrenSelector).each(function(){$(this).find(".layoutGrp,.cardLayoutGrp").each(function(){var $section=$(this);if(0===$section.find(".layoutGrp,.cardLayoutGrp").length){$section.css("min-height","");var sectionHeight=getDOMNodeHeight($section),sectionClass=$section.attr("class").match(/ddh-[a-z0-9]+/);sectionClass||(sectionClass=$section.attr("class").match(/drill-rep-[a-z0-9]+/)),sectionClass&&(!heights[sectionClass]||sectionHeight>heights[sectionClass])&&(heights[sectionClass]=sectionHeight)}})}),heights)({}).hasOwnProperty.call(heights,sectionClass)&&$layoutGrp.find("."+sectionClass).css("min-height",heights[sectionClass]+"px").addClass("match-height-affected")}function unmatchHeight($layoutGrp){null==$layoutGrp&&($layoutGrp=$("#splash-container").find(".layoutGrp.match-height")),$layoutGrp.find(".match-height-affected").css("min-height","").removeClass("match-height-affected")}function openContactOrganizerModal(){window.splash&&window.splash.ContactFormManager&&window.splash.ContactFormManager.openModal&&window.splash.ContactFormManager.openModal()}function openPriceValidationCheck($price_input){var inputted_price=$price_input.val();""!=inputted_price&&(inputted_price=parseFloat(inputted_price),isNaN(inputted_price)||inputted_price<0?inputted_price=0:inputted_price<1&&0<inputted_price&&(inputted_price=1),(inputted_price<parseFloat($price_input.data("min"))||0<parseFloat($price_input.data("max"))&&inputted_price>parseFloat($price_input.data("max")))&&$price_input.parents(".form-holder").find(".required-fields").html("Please ensure price falls between minimum and maximum.").show(),inputted_price=inputted_price.toFixed(2),$price_input.val(inputted_price))}$(window).load(function(){autoFontResize()}),window.addEventListener("message",function(event){var response=event.data||{},type=(window.splash,response.type),callback=response.callback,data=response.data,origin=event.origin,allowOrigin="https://splashthat.com";window.splash.server&&window.splash.server.constants&&window.splash.server.constants.ocbDomain&&(allowOrigin="https://"+window.splash.server.constants.ocbDomain),"X-SPLASH-REMOTE-AUTH"!==type||allowOrigin&&origin!==allowOrigin||"function"!=typeof window[callback]||window[callback](data)}),window.linkedinAuthed=function(data){if("error"==data)SplashUI.notify("There was an error with LinkedIn Integration.");else{var linkedinData={};void 0!==data&&(void 0!==data.firstName&&(linkedinData.first_name=data.firstName),void 0!==data.lastName&&(linkedinData.last_name=data.lastName),void 0!==data.emailAddress&&(linkedinData.email=data.emailAddress),void 0!==data.positions&&void 0!==data.positions.values&&void 0!==data.positions.values[0]&&void 0!==data.positions.values[0].company&&void 0!==data.positions.values[0].company.name&&(linkedinData.company=data.positions.values[0].company.name),fillRsvpForm(linkedinData,"linkedin")),removeHighlightColor(),$('.social-auth-container[network="linkedin"]').addClass("selected-color");var encoded_response=JSON.stringify(data),$social_input=$("#rsvp-form-inner").find('input[social-attr="splash_linkedin_rsvp"]');0<$social_input.length&&$social_input.val(encoded_response)}},window.splash.matchHeight=matchHeight,window.splash.unmatchHeight=unmatchHeight;var gBlankHtml,galleryOpen=!(RegExp.escape=function(text){return text.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),currentPhotoId=0,galleryIframeUtils={top:0,switchOrigin:"",isActive:function(){return window.location!=window.parent.location&&$(window).height()>2*$(window).width()}};function galleryInit(){if(!($("#gallery-thumbs div.photo-thumb").length<1)){var $gBlank=$("#gallery").find("div.photo:first");for(var i in $gBlank.detach(),gBlankHtml='<div photo-id=":id:" n=":i:" class="photo :type:">'+$gBlank.html()+"</div>",window.galleryImages)({}).hasOwnProperty.call(window.galleryImages,i)&&(galleryI[window.galleryImages[i].id]=parseInt(i,10)+1);$(document).on({mouseenter:function(){$(this).addClass("activeLI")},mouseleave:function(){$(this).removeClass("activeLI")}},"div.photos div.photo"),$("div.photos").click(function(){$("div.activeLI").length<1&&hideTheGallery()}),"undefined"==typeof adminSort&&$(document).on("click","div.photo-thumb",function(){if($("#finetune-block").length)return!1;showTheGallery($(this).find("img.th").attr("photo-id"))}),setTimeout(function(){window.splash.galleryThumbFlow()},1e3),$("#gallery .mask-below, #gallery .actions .close").click(function(){hideTheGallery()}),currentPhotoId=$("#gallery div.photos div.photo:first").attr("photo-id"),$("#gallery .actions .next,#gallNext").click(function(){galleryNext()}),$("#gallery .photo-count .first").click(function(){showTheGallery(galleryI[0])}),$("#gallery .photo-count .last").click(function(){showTheGallery(galleryI[galleryI.length-1])}),$("#gallery .actions .prev,#gallPrev").click(function(){galleryPrevious()}),$("#gallery .actions .playPause").click(function(){$(this).find(".play").hasClass("hide")?($(this).find(".play").removeClass("hide"),$(this).find(".pause").addClass("hide"),stopGallerySlideshow()):($(this).find(".play").addClass("hide"),$(this).find(".pause").removeClass("hide"),startGallerySlideshow())}),$(document).keyup(function(e){if(galleryOpen){var keyCode=e.which;37==keyCode||38==keyCode?galleryPrevious():39==keyCode||40==keyCode?galleryNext():27==keyCode&&hideTheGallery()}});var index,$_GET=getQueryParams(document.location.search);if(window.location.hash&&window.location.hash.match(/^#p[0-9]+/))(index=parseInt(window.location.hash.replace(/^#p/,"")))<=window.galleryImages.length&&setTimeout(function(){showTheGallery(1,index)},1e3);else if($_GET.p&&!isNaN(parseInt($_GET.p))&&isFinite($_GET.p))(index=parseInt($_GET.p))<=window.galleryImages.length&&setTimeout(function(){showTheGallery(1,index)},1e3);else if($_GET.i&&!isNaN(parseInt($_GET.i))&&isFinite($_GET.i)){var photoid=parseInt($_GET.i);index=!1,galleryI[photoid]&&(index=galleryI[photoid],setTimeout(function(){showTheGallery(1,index)},1e3))}$_GET.d&&!isNaN(parseInt($_GET.d))&&isFinite($_GET.d)&&(photoLoadDelay=1e3*$_GET.d,lzD=photoLoadDelay),void 0!==$_GET.expired&&($("#rsvp-button").click(),$(".rsvp-form .required-fields").css({"font-family":"Helvetica","font-size":"12px"}).html("Your order expired").show());var loggedOutScrollChecks=window.debounce(function(){windowHeight=$(window).height(),scrollTop=$(document).scrollTop(),winBottom=Math.ceil(scrollTop+windowHeight),checkViewportForThumbsToLoad()},500);$(document).scroll(loggedOutScrollChecks)}}function getQueryParams(qs){qs=qs.split("+").join(" ");for(var tokens,params={},re=/[?&]?([^=&]+)=?([^&]*)?/g;tokens=re.exec(qs);)params[decodeURIComponent(tokens[1])]=decodeURIComponent(tokens[2]);return params}function hideTheGallery(){$("body").css("overflow","auto"),galleryOpen=!1,$("#gallery").fadeOut(400,function(){$(this).find("div.photos").empty()}),window.location.hash="",stopGallerySlideshow()}var gallerySliding=!1;function startGallerySlideshow(){gallerySliding=!0,slideGallery()}function slideGallery(){gallerySliding&&(galleryNext(),setTimeout(function(){slideGallery()},5e3))}function stopGallerySlideshow(){gallerySliding=!1}var $gallery,galleryI={};function showTheGallery(photoId,n,action){$("body").css("overflow","hidden"),($gallery=$("#gallery")).find("div.photos").empty(),galleryOpen=!0;var $ul=$gallery.find("div.photos");if(photoId){if(galleryIframeUtils.switchOrigin="thumbnail",void 0===n)n=galleryI[photoId];if(void 0===n)return hideTheGallery(),!1;var $main=newPhotoLi(n);$ul.append($main),loadPhoto(n,0,$main),positionPhotoLi(n,0);var np1=n+1;np1==window.galleryImages.length+1&&1!=window.galleryImages.length&&(np1=1);var $nPOne=newPhotoLi(np1);if(!1!==$nPOne&&($ul.append($nPOne),loadPhoto(np1,1,$nPOne),positionPhotoLi(np1,1,$nPOne)),2!=window.galleryImages.length){var nm1=n-1;0==nm1&&1!=window.galleryImages.length&&(nm1=window.galleryImages.length);var $nMOne=newPhotoLi(nm1);!1!==$nMOne&&($ul.append($nMOne),loadPhoto(nm1,-1,$nMOne),positionPhotoLi(nm1,-1,$nMOne))}$("#gallery .photo-count span.current").text(n)}$gallery.fadeIn()}function galleryNext(){galleryIframeUtils.switchOrigin="arrow";var p0=parseInt($gallery.find("div.photo[p=0]").attr("n")),p1=parseInt($gallery.find("div.photo[p=1]").attr("n"));if(isNaN(p1)||isNaN(p0))return!1;$("#gallery").find("div.photos div.photo[p=-1]").remove(),positionPhotoLi(p0,-1),positionPhotoLi(p1,0);var newnp2=p0+2;if(newnp2==window.galleryImages.length+1?newnp2=1:newnp2==window.galleryImages.length+2&&(newnp2=2),2!=window.galleryImages.length){var $nP=newPhotoLi(newnp2);$gallery.find("div.photos").append($nP),positionPhotoLi(newnp2,1,$nP),loadPhoto(newnp2,1,$nP)}}function galleryPrevious(){galleryIframeUtils.switchOrigin="arrow";var p0=parseInt($gallery.find("div.photo[p=0]").attr("n")),pm1=parseInt($gallery.find("div.photo[p=-1]").attr("n"));if(isNaN(pm1)||isNaN(p0))return!1;$("#gallery").find("div.photos div.photo[p=1]").remove(),positionPhotoLi(p0,1),positionPhotoLi(pm1,0);var newnm2=p0-2;if(0==newnm2?newnm2=window.galleryImages.length:-1==newnm2&&(newnm2=window.galleryImages.length-1),2!=window.galleryImages.length){var $nM=newPhotoLi(newnm2);$gallery.find("div.photos").append($nM),positionPhotoLi(newnm2,-1,$nM),loadPhoto(newnm2,-1,$nM)}}function newPhotoLi(n){var newHtml=gBlankHtml.replace(/:i:/g,n);if(window.galleryImages[n-1]){for(var x in window.galleryImages[n-1])if("credit"==x){var credit=window.galleryImages[n-1][x];"twitter"==window.galleryImages[n-1].otype?credit="@"+credit+"<br>via Twitter":"instagram"==window.galleryImages[n-1].otype?credit="@"+credit+"<br>via Instagram":"facebook"==window.galleryImages[n-1].otype&&(credit="@"+credit+"<br>via Facebook"),""!=credit&&(credit="By "+credit),newHtml=newHtml.replace(RegExp(":"+x+":","g"),credit)}else newHtml=newHtml.replace(RegExp(":"+x+":","g"),window.galleryImages[n-1][x]);for(var gallVar in window.gallVars)({}).hasOwnProperty.call(window.gallVars,gallVar)&&(newHtml=newHtml.replace(RegExp(":"+gallVar+":","g"),window.gallVars[gallVar]));var $n=$(newHtml);if(""!=window.galleryImages[n-1]["video-url"])for(var element in window.videoUrlElements)if(window.galleryImages[n-1]["video-url"].match(RegExp(window.videoUrlElements[element].reg))){var ele=window.videoUrlElements[element].element.replace(/:video-url:/g,window.galleryImages[n-1]["video-url"]);$n.find("img.ph").after(ele);break}return"undefined"!=typeof FB&&window.FB.XFBML.parse($n.find("span.comment")[0]),$n}return!1}function positionPhotoLi(n,p,$li){if(void 0===$li&&($li=$("#gallery").find("div.photos div.photo[n="+n+"]")),void 0===p&&$li&&(p=$li.attr("p")),window.galleryImages[n-1]){if(0<$li.length)if($li.attr("p",p),0==p){if(window.galleryNP.n=n,"arrow"!=galleryIframeUtils.switchOrigin&&galleryIframeUtils.isActive()){var $photoThumb=$("#gallery-container .photo-thumb[event-photo-id="+$li.attr("photo-id")+"]"),thumbTopDistance=Math.round($photoThumb.offset().top)-$(window).scrollTop();thumbTopDistance+=Math.round($photoThumb.find(".inner>img").height()/2),$li.css({top:thumbTopDistance+"px",verticalAlign:"top"}),$("#gallery-container .gall-ctrl").css({top:thumbTopDistance+"px",verticalAlign:"top"}),galleryIframeUtils.top=thumbTopDistance}else"arrow"==galleryIframeUtils.switchOrigin&&galleryIframeUtils.isActive()&&$li.css({top:galleryIframeUtils.top+"px",verticalAlign:"top"});$li.css({right:"auto",left:"auto",zIndex:2,overflow:"visible",position:"relative"}),$li.siblings("div.photo").removeClass("active").find("span.share,span.credit,span.caption,.fb-wrap").addClass("hide"),$li.addClass("active").find("span.share,span.credit,span.caption").removeClass("hide"),"arrow"!=galleryIframeUtils.switchOrigin?$("#gallery").find("div.primary").html('<img src="'+window.galleryImages[n-1].src+'" />'):"arrow"==galleryIframeUtils.switchOrigin&&($("#gallery").find("div.secondary").html('<img src="'+window.galleryImages[n-1].src+'" />'),$("#gallery").find("div.mask.primary").animate({opacity:0},{duration:0,complete:function(){$("#gallery").find("div.secondary").removeClass("secondary").addClass("primary"),$(this).addClass("secondary").removeClass("primary"),$(this).css("opacity",1)}})),$("#gallery .photo-count span.current").text(n)}else if(1==p){window.galleryNP.np1=n;var newLeft=$(window).width()-100;$li.css({right:"auto",zIndex:1,overflow:"hidden"}),$li.animate({left:newLeft},{duration:0,complete:function(){}})}else if(-1==p){window.galleryNP.nm1=n;var newRight=$(window).width()-100;$li.css({left:"auto",zIndex:1,overflow:"hidden"}),$li.animate({right:newRight},{duration:0,complete:function(){}})}else 2==p?(window.galleryNP.np2=n,$li.css("left",$(window).width()+200)):-2==p&&(window.galleryNP.nm2=n,$li.css("left",$(window).width()+200))}else $li.css("left",$(window).width()+200),$li.attr("p",p);setImageOrientation($li)}window.galleryNP={n:0,np1:0,nm1:0,np2:0,nm2:0};var photoLoadDelay=0,loadedPhotos=[];function loadPhoto(n,p,$li){if(void 0===$li&&($li=$("#gallery").find("div.photos div.photo[n="+n+"]")),window.galleryImages[n-1]&&-1==$.inArray(n,loadedPhotos)){if(loadedPhotos.push(n),!$li.hasClass("quote"))if(""!=window.galleryImages[n-1].src){var loader=new window.ImageLoader(window.galleryImages[n-1].src);loader.loadEvent=function(url,image){setTimeout(function(){var $l=$("#gallery").find("div.photos div.photo[n="+n+"]");$l.addClass("sized").find("img.ph").attr("src",url).load(function(){positionPhotoLi(0),setImageOrientation($l)})},photoLoadDelay)},loader.load()}else $("#gallery").find("div.photos div.photo[n="+n+"]").addClass("sized").find("img.ph").attr("src","").addClass("hide")}else window.galleryImages[n-1]&&!$li.hasClass("quote")&&0<$li.length&&(""!=window.galleryImages[n-1]?$li.find("img.ph").removeClass("hide"):$li.find("img.ph").addClass("hide"),$li.find("img.ph").addClass("sized").attr("src",window.galleryImages[n-1].src).load(function(){positionPhotoLi(n),setImageOrientation($(this).closest(".photo"))}))}function setImageOrientation($li){var $image=$li.find("img.ph"),p=$li.attr("p");if(0==p||-1==p||1==p){var diff=$image.height()-$image.width();if(1==$image.length){var licss={"max-width":"none","max-height":"none"},imagecss={height:"auto",width:"auto","max-width":"none","max-height":"none"};if($li.hasClass("quote")||(licss.height="auto"),0<diff?(licss.maxHeight="90%",imagecss.maxHeight="100%"):imagecss.maxWidth=(licss.maxWidth="90%","100%"),galleryIframeUtils.isActive()&&(licss.maxHeight=Math.round(.9*$(window).width())+"px"),$li.css(licss),$image.css(imagecss),0==p&&galleryIframeUtils.isActive()){$li.css({"margin-top":"0px"}),$(".gall-ctrl>span").css({"margin-top":"-40px"});var newMarginTop,marginTop=-Math.round($image.height()/2),offsetTop=Math.round($image.offset().top);offsetTop+$image.height()+marginTop+70>$(document).height()&&(newMarginTop=$(document).height()-(offsetTop+$image.height())-70,$(".gall-ctrl>span").css("margin-top",newMarginTop-marginTop+"px"),marginTop=newMarginTop),offsetTop+marginTop+70<0&&(newMarginTop=70-offsetTop,$(".gall-ctrl>span").css("margin-top",newMarginTop-marginTop+"px"),marginTop=newMarginTop),$li.css({"margin-top":marginTop+"px"})}}}}var cleared=!1;function galleryThumbFlow(force_cliff){galleryOuterWidthReflow()}window.splash.galleryThumbFlow=galleryThumbFlow;var scrollTop,windowHeight,winBottom,doneLoadingThumbs=!1;function resizeGalleryCarousel(){$("#main-canvas").find(".carousel").each(function(){var $slides=$(this).find(".slides"),width=$slides.parent().width(),$imgs=$slides.find(".list-item");$imgs.css("width",width+"px"),0<$imgs.length&&$slides.css("width",width*($imgs.length+1)+"px"),$(this).slideToCurrent()})}function onWindowResize(){windowHeight=$(window).height(),scrollTop=$(document).scrollTop(),winBottom=Math.ceil(scrollTop+windowHeight),setImageOrientation($("#gallery-container").find("div.photo.active")),window.splash.galleryExistsOnPage()&&galleryOuterWidthReflow(),sizePageContainerSoThatFooterIsAtTheBottom(),window.splash.cmsUtils.applyAutoWindowSizesToComponents(),resizeGalleryCarousel(),matchHeight(),autoFontResize(),window.splash.PubSub.publish("page-resized")}function checkViewportForThumbsToLoad(checkAll){if(!1===doneLoadingThumbs){var $nextUnloadedThumb,$galleryThumbs=$("#gallery-thumbs");if(0<($nextUnloadedThumb=checkAll?$galleryThumbs.find("img.unloaded:first"):$galleryThumbs.find("img.unloaded")).length)$nextUnloadedThumb.each(function(){if(!$(this).hasClass("loading-thumb")&&winBottom>=$(this).offset().top)return loadMoreThumbs(),!1});else if(void 0!==window.unloadedGalleryThumbnails&&window.unloadedGalleryThumbnails&&0<window.unloadedGalleryThumbnails.length&&winBottom>=$("#galleryThumbBottom").offset().top){var newToLoad=thumbsToLoad;newToLoad>window.unloadedGalleryThumbnails.length&&(newToLoad=window.unloadedGalleryThumbnails.length);var $blank=$galleryThumbs.find("div.photo-thumb:first").clone();$blank.removeClass("photo-thumb clear video double triple").find(".quote-table,.via").remove().end().find("img.th").remove().end().find("span.play").remove();for(var x=0;x<newToLoad;x++){var $newBlank=$blank.clone(),n=window.unloadedGalleryThumbnails.shift();$newBlank.addClass(n["outer-class"]);var $img=$newBlank.find("img.th");0==$img.length&&($img=$("<img />"),$newBlank.find(".inner:first").append($img),$img.addClass("th").attr("loading-src","/images/eventfeed/loading-4.png")),$img.attr("data-src",n.src).attr("src",$img.attr("loading-src")).addClass("unloaded").attr("photo-id",n["photo-id"]).attr("thumbnail-position",n.thumbnail_position),""==n.src&&$img.css("display","none").removeClass("unloaded"),$newBlank.find(".body").html(n.caption),$newBlank.find(".author").html(n.credit),$newBlank.find(".created").html(n.created),"quote"!=n.type&&("twitter"!=n.type&&"facebook"!=n.type||""!=n.src)||($newBlank.find(".quote .inner span:first").html(n.caption),$newBlank.find(".meta .username .inner span:first").html(n.credit),void 0!==n.remote_screen_name?$newBlank.find(".meta .username .inner span:last").html("@"+n.remote_screen_name):$newBlank.find(".meta .username .inner span:last").html(""),void 0!==n.meta_data&&"undefined"!==n.meta_data.remote_profile_img?$newBlank.find(".meta .thepoint img:first").attr("src",n.meta_data.remote_profile_img):$newBlank.find(".meta .thepoint img:first").hide()),"twitter"==n.otype?$newBlank.find(".inner:first").append('<img src="/images/eventfeed/share-twitter.png" alt="via Twitter" title="via Twitter" class="via">'):"instagram"==n.otype?$newBlank.find(".inner:first").append('<img src="/images/eventfeed/share-instagram.png" alt="via Instagram" title="via Instagram" class="via">'):"facebook"==n.otype&&$newBlank.find(".inner:first").append('<img src="/images/eventfeed/share-fbook.png" alt="via Facebook" title="via Facebook" class="via">'),$galleryThumbs.append($newBlank),window.unloadedGalleryThumbnails&&0==window.unloadedGalleryThumbnails.length&&(doneLoadingThumbs=!0,$("#loadMoreThumbs").hide())}$galleryThumbs.masonry("layout"),loadMoreThumbs()}else 0==$nextUnloadedThumb.length&&void 0!==window.unloadedGalleryThumbnails&&window.unloadedGalleryThumbnails&&0==window.unloadedGalleryThumbnails.length&&(doneLoadingThumbs=!0,$("#loadMoreThumbs").hide())}}function positionThumbnail($img){setTimeout(function(){var fullPosition=$img.attr("thumbnail-position");if(fullPosition){var displayWidth,xyw=fullPosition.split(/;/);if($img.attr("display-width"))displayWidth=$img.attr("display-width");else{var $parent=$img.parents("div.photo-thumb");$parent.hasClass("triple")?$img.attr("display-width",window.splash.server.constants.thumbSizes.triple.w):$parent.hasClass("double")?$img.attr("display-width",window.splash.server.constants.thumbSizes.double.w):$img.attr("display-width",window.splash.server.constants.thumbSizes.single.w),$img.attr("display-width",$parent.width()),displayWidth=$img.attr("display-width")}var displayTop=0,displayLeft=0;3==xyw.length&&(displayWidth=Math.ceil(displayWidth/xyw[2]),displayTop=Math.ceil(xyw[1]*displayWidth),displayLeft=Math.ceil(xyw[0]*displayWidth)),$img.css({"min-width":"none","max-width":"none","margin-top":"-"+displayTop+"px","margin-left":"-"+displayLeft+"px",width:displayWidth+"px",height:"auto"})}else{var diff=$img.height()-$img.parent().height();diff<0?$img.css({"min-width":"none","max-width":"none",width:"auto",height:"100%"}):0<diff&&$img.css({height:"auto"})}},200)}window.$gallery=$("#gallery-container"),window.splash.positionThumbnail=positionThumbnail;var thumbsToLoad=30;function loadMoreThumbs(){var $thumbs=$("#gallery-thumbs img.unloaded");if(0<$thumbs.length){$thumbs.each(function(){0;var $img=$(this);$img.removeClass("unloaded").addClass("loading-thumb");var loader=new window.ImageLoader($img.attr("data-src"));loader.loadEvent=function(url,image){setTimeout(function(){$img.attr("src",url),$img.removeClass("loading-thumb").parents(".inner:first").addClass("loaded").find(".lazy.message").hide(),window.splash.positionThumbnail($img)},photoLoadDelay)},loader.load()})}window.splash.galleryThumbFlow()}var galleryOuterWidthReflowTimer,keepScrolling=!1,keepScrollingRepeat=!1,$get_params=getQueryParams(window.location.search);function galleryOuterWidthReflow(){clearTimeout(galleryOuterWidthReflowTimer),galleryOuterWidthReflowTimer=setTimeout(function(){var $g=$("#gallery-container");$g.hasClass("noAutoWidthChange")&&(w=$g.width());var $gt=$g.find("#gallery-thumbs"),cols=5;$g.hasClass("column4")?cols=4:$g.hasClass("column3")?cols=3:$g.hasClass("column2")?cols=2:$g.hasClass("column1")&&(cols=1),$(window).width()<481&&(cols=1);var w=$gt.width(),columnWidth=Math.floor(w/cols),rowHeight=Math.floor(.75*columnWidth),singleWidth=columnWidth-8,singleHeight=rowHeight-8,doubleWidth=2*singleWidth+8,doubleHeight=2*singleHeight+8,tripleWidth=3*singleWidth+16,tripleHeight=3*singleHeight+16,$thumbs=$gt.find(".photo-thumb");$thumbs.each(function(){var $this=$(this),width=singleWidth,height=singleHeight;$this.hasClass("triple")?3<=cols?(width=tripleWidth,height=tripleHeight):2==cols&&(width=doubleWidth,height=doubleHeight):$this.hasClass("double")&&2<=cols&&(width=doubleWidth,height=doubleHeight);var css={width:width+"px",height:height+"px"};$this.css(css),$this.find(">.inner:first").css(css)});var $p=$gt.parent();$p.css("height",$p.height()+"px"),$gt.hasClass("masonry")&&$gt.masonry("destroy"),void 0!==window.splash.galleryElement.galleryMasonryVars&&0<$thumbs.length&&(window.splash.galleryElement.galleryMasonryVars.columnWidth=columnWidth,$gt.masonry(window.splash.galleryElement.galleryMasonryVars),$gt.addClass("masonry")),setTimeout(function(){$p.css("height","auto")},1e3)},100)}void 0!==$get_params.fb?setTimeout(function(){$("#fb-link").click()},2e3):void 0!==$get_params.tw&&setTimeout(function(){$("#twitter-link").click()},2e3),void 0!==$get_params.closefb&&window.close();var lzD=0,lazyLoader=function(){this.q=[],this.r=!1};lazyLoader.prototype={load:function(image,_c){image&&""!=image&&(this.q.push(image),0==this.r&&this.go(_c))},go:function(_c){if(0<this.q.length){this.r=!0;var image=this.q.shift(),me=this,went=!1;this.loadImage(image,function(){went||(me.go(),went=!0),void 0!==_c&&_c()}),setTimeout(function(){went||(me.go(),went=!0)},200)}else this.r=!1},loadImage:function(i,_c){var iL=new window.ImageLoader(i.getAttribute("lazy-src"));iL.loadEvent=function(u){i.setAttribute("src",u),i.removeAttribute("lazy-src"),$(i).parents(".inner:first").addClass("loaded").find(".lazy.message").hide(),void 0!==_c&&setTimeout(_c,lzD),window.splash.positionThumbnail($(i))},iL.load()}};var myLazyLoader=new lazyLoader;function lazyLoad(image,c){myLazyLoader.load(image,c)}function sizePageContainerSoThatFooterIsAtTheBottom(){var $footer=$("#footer");if($footer.is(":visible")){var minHeight=$(window).height()-$footer.outerHeight(!0),$mainCanvas=$("#main-canvas"),$bodyPageGroup=$mainCanvas.find(".layoutGrp.event-body");($bodyPageGroup.length?$bodyPageGroup:$mainCanvas).css("min-height",minHeight)}}function jumpToNavBlock($t,event){var jumpTo=$t.attr("href");if(void 0===jumpTo){if(void 0===$t.data("href"))return!1;jumpTo=$t.data("href")}var cmsComponent=window.splash.cmsComponentManager.getComponentInstance($t.closest(".layoutGrp")),componentInstance=window.splash.cmsComponentManager.getComponentInstance(cmsComponent);if("button"===cmsComponent.getType()&&cmsComponent.trigger("action-triggered"),jumpTo.match(/^#/)){jumpTo=jumpTo.replace("http://",""),event&&event.preventDefault&&event.preventDefault();var formGid,cmsFormComponent,$targetSection=$(jumpTo);if($t.hasClass("nav-item-link")&&$t.closest(".nav-item").addClass("is-selected").siblings().removeClass("is-selected"),"#tobutton"===jumpTo||"#button"===jumpTo||"#rsvp"===jumpTo)return($targetSection=$("#element-rsvp")).length<1&&window.splash.server&&window.splash.server.constants&&!window.splash.server.constants.inlineRsvp&&($targetSection=$(".rsvp-form")),$targetSection.length<1?$("html, body").animate({scrollTop:0},400):window.splash.pageAction.showPageActionForm($t),!1;if("#top"===jumpTo||"#totop"===jumpTo||"#event"===jumpTo)return $("html, body").animate({scrollTop:0},400),!1;if(-1<jumpTo.indexOf("modal-")){$("body").addClass("is-viewing-modal");var $modal=$('[modalid="'+jumpTo.replace(/(to|modal\-|#)/g,"")+'"]'),cmsModal=window.splash.cmsComponentManager.getComponentInstance($modal);cmsModal&&cmsModal.open()}else if("#guest-list"===jumpTo)window.splash.attendeesV1Modal.openModal();else if(-1<$.inArray(jumpTo.replace("#",""),navFunctions.getLinkableSections()))$targetSection=navFunctions.findSectionByHash(jumpTo);else if("#page-submit"===jumpTo){if((cmsFormComponent=!!(formGid=$t.attr("data-linked-form"))&&window.splash.cmsComponentManager.getComponentInstance(formGid))&&"function"==typeof cmsFormComponent.submit)return cmsFormComponent.submit(),!1;window.splash.pageAction.showPageActionForm(),"tickets"===window.splash.server._event.rsvp_method?window.splash.pageAction.submitTicketForm():window.splash.pageAction.submitRsvpForm()}else if("#survey-partial-save"===jumpTo){if(!1===(cmsFormComponent=!!(formGid=$t.attr("data-linked-form"))&&window.splash.cmsComponentManager.getComponentInstance(formGid))){var forms=cmsComponent.getParents({filterFunction:function(parent){var parentType=parent.getType();return"question-group"===parentType||"ticket-group"===parentType}});0<forms.length&&(cmsFormComponent=forms[0])}if(cmsFormComponent&&"function"==typeof cmsFormComponent.submit)return cmsFormComponent.submit({skipFieldValidation:!0,extraData:{survey_response_incomplete:!0}}),!1}else{if("#no-action"===jumpTo)return;if("#contact-organizer"===jumpTo)return openContactOrganizerModal(),!1;if("#cal"===jumpTo)return componentInstance.renderCalendarLinks(),!1;if(-1!==jumpTo.indexOf("hub-search")){var searchMode=jumpTo.replace(/#hub-search-[0-9a-z]+-/,""),hubId=jumpTo.replace(/#hub-search-([0-9a-z]+)-.*/,"$1"),hub=window.splash.cmsComponentManager.getComponentInstance(hubId);if(hub&&"hub"===hub.getType()){var navLinksToHubFilterTypesWithSearchTerm={search_terms:"keywords",tags_filter:"tags",event_type_filter:"eventType"};if("is_featured"===searchMode)hub.setTemporaryFilter({type:"featured",options:1},cmsComponent).filterHub();else if(navLinksToHubFilterTypesWithSearchTerm[searchMode]){var filterType=navLinksToHubFilterTypesWithSearchTerm[searchMode],searchTerm="button"===cmsComponent.getType()?cmsComponent.getHubSearchTerm():$t.attr("data-search-terms")||"";hub.setTemporaryFilter({type:filterType,options:searchTerm},cmsComponent).filterHub()}else hub.removeTemporaryFilter(cmsComponent),hub.sortHub(searchMode,null);return!1}var $hub=$("#splash-container").find(".sf.ohmyhub[hubId="+hubId+"]"),sfid=$hub.attr("id").replace("sfid-","");if($hub.length&&0===searchMode.indexOf("is_"))window.splash.ohmyhub.hideShowHubItemByProperty(sfid,searchMode,!0);else if("search_terms"===searchMode){var searchTerms=$t.attr("data-search-terms")?$t.attr("data-search-terms"):"";window.splash.ohmyhub.searchHub(sfid,searchTerms,{wordMatchingType:"whole_word"})}else window.splash.ohmyhub.sortHub(sfid,searchMode);return!1}if("#exit-custom-reg"===jumpTo)return alert("Would exit custom registration flow"),!1;if("#modify-registration"===jumpTo){var modals=window.splash.cmsComponentManager.getComponentParents(cmsComponent,{componentType:"modal"});return modals.length&&modals[0].close(),void window.SPLASH.loadUpdateResponses()}}if(0<$targetSection.length)return $t.parents(".nav-item:first").addClass("active").siblings().removeClass("active"),navigateToCmsComponent($targetSection),!1}else{var isLinkTag=$t.is("a");if(isLinkTag&&"undefined"===$t.attr("target"))window.open(jumpTo),event.preventDefault();else if(isLinkTag||"_self"!==$t.attr("data-target"))if(isLinkTag||"_parent"!==$t.attr("data-target"))isLinkTag||window.open(jumpTo);else try{window.parent.location=jumpTo}catch(err){window.open(jumpTo)}else{takeLinkActionToTopLevelFrameIfNeeded(jumpTo,event)||(window.location=jumpTo)}}}function navigateToCmsComponent($target){var target=window.splash.cmsComponentManager.getComponentInstance($target);if(target){var openModal=window.splash.cmsComponentManager.getAllComponentInstancesByType("modal").find(function(modal){return modal.getIsOpen()});openModal&&-1===target.getParents().indexOf(openModal)&&openModal.close()}var fixedNavBlockHeight=getFixedNavBlockHeight();window.scrollToBlock($target,{force:!0,percentageOffset:50,offset:-fixedNavBlockHeight,toBlockTop:!0,pulse:!1})}function getFixedNavBlockHeight(){var height=0;return $("#splash-container").find(".dope-section").each(function(index,el){if(el.style&&"fixed"===el.style.position){var rect=el.getBoundingClientRect();0===rect.top&&(height+=rect.height)}}),height}function getDistanceFromLatLon(lat1,lon1,lat2,lon2){var dLat=deg2rad(lat2-lat1),dLon=deg2rad(lon2-lon1),a=Math.sin(dLat/2)*Math.sin(dLat/2)+Math.cos(deg2rad(lat1))*Math.cos(deg2rad(lat2))*Math.sin(dLon/2)*Math.sin(dLon/2);return 3959*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))}function deg2rad(deg){return deg*(Math.PI/180)}function autoFontResize($container){if($container||($container=$("#main-canvas")),"function"==typeof $.fn.bigtext){"function"!=typeof $container.bigtext&&($container=$($container));var $paragraphResizes=$container.find(".splash-font-resizing[data-font-resizing-mode=paragraph]").addBack(".splash-font-resizing[data-font-resizing-mode=paragraph]"),$lineResizes=$container.find(".splash-font-resizing[data-font-resizing-mode=line]").addBack(".splash-font-resizing[data-font-resizing-mode=line]");$paragraphResizes.length&&$paragraphResizes.removeClass("no-op-children").children(".element").find("[data-mce-style]").css({"font-size":"","line-height":""}).end().bigtext({resize:!0}),$lineResizes.length&&$lineResizes.removeClass("no-op-children").find(".body:first,.title:first").find("[data-mce-style]").css({"font-size":"","line-height":""}).end().bigtext({resize:!0})}}function clearFontResizeClasses($container){$container||($container=$("#main-canvas")),$container.find("div,span,p").addBack().each(function(){var $this=$(this),id=$this.attr("id"),classes=$this.attr("class");/bigtext/.test(id)&&$this.removeAttr("id"),classes&&(classes=classes.replace(new RegExp("\\b"+window.BigText.LINE_CLASS_PREFIX+"\\d+\\b"),"").replace(/\bbigtext\b/,""),$this.attr("class",classes))})}window.splash.lazyLoad=lazyLoad,$.fn.slideToCurrent=function(){var $carousel=$(this),$parent=$carousel.parents(".layoutGrp:first"),$slides=$carousel.find(".slides"),$left=$parent.find(".scrollLeftContain"),$right=$parent.find(".scrollRightContain"),$current=$carousel.find(".list-item.current:first");if($current.length<1)return!1;var left=$current.position().left;$slides.css("left","-"+left+"px");var current_index=$current.index();$parent.find(".progress .current").html(current_index+1);var $currentImg=$current.find("img:first");$currentImg.hasClass("unloaded")&&window.splash.lazyLoad($currentImg[0],function(){$currentImg.removeClass("unloaded")}),0<$current.prev().length?$left.show():$left.hide(),0<$current.next().length?$right.show():$right.hide()},$.fn.activateCarousel=function(params){var $carousel=$(this),$parent=$carousel.parents(".layoutGrp:first"),$left=$parent.find(".scrollLeftContain"),$right=$parent.find(".scrollRightContain"),$slides=$carousel.find(".slides"),imgCount=$carousel.find(".list-item").length;"1"==imgCount&&($left.hide(),$right.hide()),$parent.find(".progress").find(".total").text(imgCount),$carousel.find(".carousel-lazy-load-image").each(function(){window.splash.lazyLoad(this)}),setTimeout(function(){var width=$slides.parent().width(),$imgs=$slides.find(".list-item");$imgs.css("width",width+"px"),0<$imgs.length&&$slides.css("width",width*($imgs.length+1)+"px")},0),$left.unbind("click").click(function(){var $currentImg=$carousel.find(".list-item.current:first"),$prev=$currentImg.prev();$currentImg.removeClass("current"),$prev.addClass("current"),$carousel.slideToCurrent()}),$right.unbind("click").click(function(){var $currentImg=$carousel.find(".list-item.current:first");$currentImg.next().addClass("current"),$currentImg.removeClass("current"),$carousel.slideToCurrent(),function(){var $next=$carousel.find("img.unloaded:first");1==$next.length&&window.splash.lazyLoad($next[0],function(){$next.removeClass("unloaded")})}()})},window.splash.autoFontResize=autoFontResize,window.splash.clearFontResizeClasses=clearFontResizeClasses;var ticketForm=function(ticket_hierarchy){var $form=null,getChildIds=function(parent_ttid){var childIds=[],objectKey="parent_id_"+parent_ttid;return ticket_hierarchy.parent2children[objectKey]&&ticket_hierarchy.parent2children[objectKey]instanceof Array&&(childIds=ticket_hierarchy.parent2children[objectKey]),childIds},getParentIds=function(child_ttid){var parentIds=[],objectKey="child_id_"+child_ttid;return ticket_hierarchy.children2parents[objectKey]&&ticket_hierarchy.children2parents[objectKey]instanceof Array&&(parentIds=ticket_hierarchy.children2parents[objectKey]),parentIds},hideChildrenIfNotNeeded=function(ticketTypeId){for(var childIds=getChildIds(ticketTypeId),t=0;t<childIds.length;t++){for(var parentIds=getParentIds(childIds[t]),neededByOtherParent=!1,p=0;p<parentIds.length;p++){var otherParentQty=$('select.quantity-select[data-ttid="'+parentIds[p]+'"]').val();if(otherParentQty&&0<parseInt(otherParentQty)){neededByOtherParent=!0;break}}if(neededByOtherParent)return null;var $child=$("#ticket-type-"+childIds[t],$form);$child.hide(),$child.find("input, select, textarea").val(0).prop("disabled",!0);for(var c=0;c<childIds.length;c++)hideChildrenIfNotNeeded(childIds[c])}},selectQuantity=function(){var $dropdown=$(this),ticketTypeId=$dropdown.data("ttid"),quantity=$dropdown.val();quantity&&0<parseInt(quantity)?(!function(ticketTypeId){for(var childIds=getChildIds(ticketTypeId),t=childIds.length;0<=t;t--){var $child=$("#ticket-type-"+childIds[t],$form),parentId=$child.data("parent-ticket-type-ids"),$parent=$("#ticket-type-"+parentId).closest(".ticket-container");$child.hasClass("nested")&&!$child.hasClass("relocated")&&0<$parent.length&&$child.closest(".ticket-container").detach().insertAfter($parent).end().show().addClass("relocated"),$child.show().find("input, select, textarea").prop("disabled",!1)}}(ticketTypeId),ticket_id[ticketTypeId]=parseInt(quantity)):(delete ticket_id[ticketTypeId],hideChildrenIfNotNeeded(ticketTypeId)),window.splash.server.constants.ltt&&(0<parseInt(quantity)?$("#ticketForm .quantity-select").not($dropdown).not($("#ticket-type-"+$dropdown.closest(".secondary-ticket").data("parent-ticket-type-ids")).find("input, select, textarea")).not(".secondary-ticket select, .secondary-ticket input, .secondary-ticket textarea").attr("disabled","disabled").attr("title","Only one ticket type per attendee permitted for this event"):$("#ticketForm .quantity-select").removeAttr("disabled").removeAttr("title")),$(".secondary-ticket:visible").not(".nested").length?$(".addon-tickets",$form).addClass("applicable"):$(".addon-tickets",$form).removeClass("applicable")};$(function(){($form=$("#ticketForm")).find("select.quantity-select").on("change",selectQuantity)})};window.splash.socialActions=function($){return{initTwitterShare:function(){void 0!==window.twttr&&window.twttr.ready(function(twttr){twttr.events.bind("tweet",function(ev){"function"==typeof window.customAfterTwitterShare&&window.customAfterTwitterShare(ev)})})},fireTweet:function(body){null!=body&&""!=body.trim()||(body=window.splash.server._event.social.twitter.body),""==(body=body.trim().replace("&amp;","&"))&&void 0!==window.splash.server._event.finetune&&(body=window.splash.server._event.finetune.social_defaults.twitter.body);var href="https://twitter.com/intent/tweet?source=tweetbutton&text="+encodeURIComponent(body);window.open(href,"Twitter","width=400,height=350")},fireFacebookShare:function(name,description,picture){var params=window.splash.socialActions.getFaceBookParams(name,description,picture),href="https://www.facebook.com/dialog/feed?display=popup&app_id="+window.splash.server.constants.facebook_client_id+"&description="+encodeURIComponent(params.description)+"&name="+encodeURIComponent(params.name)+"&picture="+encodeURIComponent(params.picture)+"&link="+encodeURIComponent(params.domain)+"&redirect_uri=http://splashthat.com/?fbClose=1";window.open(href,"Facebook","width=400,height=250")},fireLinkedInShare:function(title,description){null!=title&&""!=$.trim(title)||(title=window.splash.server._event.social.linkedin.name),null!=description&&""!=$.trim(description)||(description=window.splash.server._event.social.linkedin.description),title=$.trim(title),description=$.trim(description),""==title&&void 0!==window.splash.server._event.finetune&&(title=window.splash.server._event.finetune.social_defaults.linkedin.name),""==description&&void 0!==window.splash.server._event.finetune&&(description=window.splash.server._event.finetune.social_defaults.linkedin.description);var href="http://www.linkedin.com/shareArticle?mini=true&summary="+encodeURIComponent(description.substr(0,2e3))+"&title="+encodeURIComponent(title.substr(0,200))+"&url="+encodeURIComponent("http://"+window.splash.server._event.domain.effective);window.open(href,"Linkedin","width=520,height=570")},fireEmailSend:function(subject,body){null==subject&&(subject=""),null==body&&(body=""),""==$.trim(subject)&&void 0!==window.splash.server._event.finetune&&(subject=window.splash.server._event.finetune.social_defaults.email.subject),""==$.trim(body)&&void 0!==window.splash.server._event.finetune&&(body=window.splash.server._event.finetune.social_defaults.email.body);var href="mailto:?subject="+encodeURIComponent($.trim(subject))+"&body="+encodeURIComponent($.trim(body));window.location=href},getFaceBookParams:function(name,description,picture){var params={},eventCardImages=window.splash.server._event.eventCardImages;return null!=name&&""!=$.trim(name)||(name=window.splash.server._event.social.facebook.name),null!=description&&""!=$.trim(description)||(description=window.splash.server._event.social.facebook.description),null!=picture&&""!=$.trim(picture)||(picture=window.splash.server._event.social.facebook.picture)||(picture=eventCardImages&&"object"==typeof eventCardImages?eventCardImages.x3:window.splash.server._event.image),params.name=$.trim(name),params.description=$.trim(description),params.picture=$.trim(picture),params.domain=window.splash.server._event.domain.effective,""==params.name&&void 0!==window.splash.server._event.finetune&&(params.name=window.splash.server._event.finetune.social_defaults.facebook.name),""==params.description&&void 0!==window.splash.server._event.finetune&&(params.description=window.splash.server._event.finetune.social_defaults.facebook.description),""==params.picture&&void 0!==window.splash.server._event.finetune&&(params.picture=window.splash.server._event.finetune.social_defaults.facebook.picture),0==params.picture.indexOf("//")?params.picture="http:"+params.picture:0!=params.picture.indexOf("http")&&(params.picture="http://splashthat.com"+params.picture),params}}}(jQuery);var navFunctions=function($){return{getLinkableSections:function(){return["speakers","schedule","sponsors","map","video"]},findSectionByHash:function(hash){return hash=hash.replace("#","").trim(),$("#splash-container").find(".sf."+hash+":first")}}}(jQuery);